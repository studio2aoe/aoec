!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.aoec=n():t.aoec=n()}("undefined"!=typeof self?self:this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=3)}([function(t,n,e){"use strict";var r=e(1).assert,i=function(t,n,e){return r.inRange(r.integer(t),n,e)},o=function(t,n){return i(t,0,n.length-1)},u=function(t){return i(t,0,15)},a=function(t){return i(t,0,255)},c=function(t){return i(t,-128,127)},s=function(t){return new Uint8Array(1).fill(c(t))[0]},f=function(t){return new Int8Array(1).fill(a(t))[0]},l=function(t){return r.hasLength(r.string(t),2),16*u(parseInt(t[0],16))+u(parseInt(t[1],16))},h=function(t){return f(l(t))};t.exports={checkRangedInt:i,checkArrayID:o,checkHex:u,checkUByte:a,checkSByte:c,convertUByte:s,convertSByte:f,parseUByte:l,parseSByte:h}},function(t,n,e){var r;!function(i){"use strict";function o(t,n){return t===n}function u(t){return void 0===t}function a(t){return null===t}function c(t){return void 0!==t&&null!==t}function s(t){var n;switch(t){case null:case void 0:case!1:case!0:return!0}return"string"===(n=typeof t)||"number"===n||It&&"symbol"===n}function f(t){return 0===t}function l(t){return t===xt||t===St}function h(t){return"number"==typeof t&&t>xt&&t<St}function p(t){return"number"==typeof t&&t%1==0}function y(t){return"number"==typeof t&&t%2==0}function v(t){return p(t)&&t%2!=0}function _(t,n){return h(t)&&t>n}function m(t,n){return h(t)&&t<n}function b(t,n,e){return n<e?_(t,n)&&t<e:m(t,n)&&t>e}function g(t,n){return h(t)&&t>=n}function d(t,n){return h(t)&&t<=n}function w(t,n,e){return n<e?g(t,n)&&t<=e:d(t,n)&&t>=e}function k(t){return _(t,0)}function E(t){return m(t,0)}function x(t){return"string"==typeof t}function S(t){return""===t}function O(t){return x(t)&&""!==t}function I(t,n){return x(t)&&-1!==t.indexOf(n)}function A(t,n){return x(t)&&!!t.match(n)}function j(t){return!1===t||!0===t}function M(t){return"[object Object]"===Object.prototype.toString.call(t)}function T(t){return M(t)&&0===Object.keys(t).length}function P(t){return M(t)&&Object.keys(t).length>0}function q(t,n){try{return t instanceof n}catch(t){return!1}}function D(t,n){try{return q(t,n)||t.constructor.name===n.name||Object.prototype.toString.call(t)==="[object "+n.name+"]"}catch(t){return!1}}function W(t,n){var e;for(e in n)if(n.hasOwnProperty(e)){if(!1===t.hasOwnProperty(e)||typeof t[e]!=typeof n[e])return!1;if(M(t[e])&&!1===W(t[e],n[e]))return!1}return!0}function C(t){return Ot(t)}function R(t){return C(t)&&0===t.length}function L(t){return C(t)&&_(t.length,0)}function N(t){return c(t)&&g(t.length,0)}function Z(t){return It?c(t)&&G(t[Symbol.iterator]):N(t)}function B(t,n){var e,r,i,o,u;if(!c(t))return!1;if(It&&t[Symbol.iterator]&&G(t.values)){e=t.values();do{if(r=e.next(),r.value===n)return!0}while(!r.done);return!1}for(i=Object.keys(t),o=i.length,u=0;u<o;++u)if(t[i[u]]===n)return!0;return!1}function V(t,n){return c(t)&&t.length===n}function F(t){return q(t,Date)&&p(t.getTime())}function G(t){return"function"==typeof t}function U(t,n){return gt.array(t),G(n)?t.map(function(t){return n(t)}):(gt.array(n),gt.hasLength(t,n.length),t.map(function(t,e){return n[e](t)}))}function H(t,n){return gt.object(t),G(n)?z(t,n):(gt.object(n),Y(t,n))}function z(t,n){var e={};return Object.keys(t).forEach(function(r){e[r]=n(t[r])}),e}function Y(t,n){var e={};return Object.keys(n).forEach(function(r){var i=n[r];G(i)?dt.assigned(t)?e[r]=!!i.m:e[r]=i(t[r]):M(i)&&(e[r]=Y(t[r],i))}),e}function J(t){return C(t)?K(t,!1):(gt.object(t),Q(t,!1))}function K(t,n){var e;for(e=0;e<t.length;e+=1)if(t[e]===n)return n;return!n}function Q(t,n){var e,r;for(e in t)if(t.hasOwnProperty(e)){if(r=t[e],M(r)&&Q(r,n)===n)return n;if(r===n)return n}return!n}function X(t){return C(t)?K(t,!0):(gt.object(t),Q(t,!0))}function $(t,n){return Object.keys(n).forEach(function(e){t[e]=n[e]}),t}function tt(t,n){return function(){return nt(t,arguments,n)}}function nt(t,n,e){var r=t.l||t.length,i=n[r],o=n[r+1];return et(t.apply(null,n),O(i)?i:e,G(o)?o:TypeError),n[0]}function et(t,n,e){if(t)return t;throw new(e||Error)(n||"Assertion failed")}function rt(t){var n=function(){return it(t.apply(null,arguments))};return n.l=t.length,n}function it(t){return!t}function ot(t){var n=function(){return!!dt.assigned(arguments[0])||t.apply(null,arguments)};return n.l=t.length,n.m=!0,n}function ut(t){return!1===c(t)||t}function at(t,n,e){var r=function(){var r,i;if(r=arguments[0],"maybe"===t&&dt.assigned(r))return!0;if(!n(r))return!1;r=ct(n,r),i=Et.call(arguments,1);try{r.forEach(function(n){if(("maybe"!==t||c(n))&&!e.apply(null,[n].concat(i)))throw 0})}catch(t){return!1}return!0};return r.l=e.length,r}function ct(t,n){switch(t){case N:return Et.call(n);case M:return Object.keys(n).map(function(t){return n[t]});default:return n}}function st(t,n){return ft([t,mt,n])}function ft(t){var n,e,r,i;return n=t.shift(),e=t.pop(),r=t.pop(),i=e||{},Object.keys(r).forEach(function(e){Object.defineProperty(i,e,{configurable:!1,enumerable:!0,writable:!1,value:n.apply(null,t.concat(r[e],_t[e]))})}),i}function lt(t,n){return ft([t,n,null])}function ht(t){mt[t].of=ft([at.bind(null,null),mt[t],mt,null])}function pt(t,n){kt.forEach(function(e){t[e].of=lt(n,mt[e].of)})}function yt(t){wt[t].of=ft([at.bind(null,"maybe"),mt[t],mt,null]),gt.maybe[t].of=lt(tt,wt[t].of),gt.not[t].of=lt(tt,dt[t].of)}var vt,_t,mt,bt,gt,dt,wt,kt,Et,xt,St,Ot,It;vt={v:"value",n:"number",s:"string",b:"boolean",o:"object",t:"type",a:"array",al:"array-like",i:"iterable",d:"date",f:"function",l:"length"},_t={},mt={},[{n:"equal",f:o,s:"v"},{n:"undefined",f:u,s:"v"},{n:"null",f:a,s:"v"},{n:"assigned",f:c,s:"v"},{n:"primitive",f:s,s:"v"},{n:"includes",f:B,s:"v"},{n:"zero",f:f},{n:"infinity",f:l},{n:"number",f:h},{n:"integer",f:p},{n:"even",f:y},{n:"odd",f:v},{n:"greater",f:_},{n:"less",f:m},{n:"between",f:b},{n:"greaterOrEqual",f:g},{n:"lessOrEqual",f:d},{n:"inRange",f:w},{n:"positive",f:k},{n:"negative",f:E},{n:"string",f:x,s:"s"},{n:"emptyString",f:S,s:"s"},{n:"nonEmptyString",f:O,s:"s"},{n:"contains",f:I,s:"s"},{n:"match",f:A,s:"s"},{n:"boolean",f:j,s:"b"},{n:"object",f:M,s:"o"},{n:"emptyObject",f:T,s:"o"},{n:"nonEmptyObject",f:P,s:"o"},{n:"instanceStrict",f:q,s:"t"},{n:"instance",f:D,s:"t"},{n:"like",f:W,s:"t"},{n:"array",f:C,s:"a"},{n:"emptyArray",f:R,s:"a"},{n:"nonEmptyArray",f:L,s:"a"},{n:"arrayLike",f:N,s:"al"},{n:"iterable",f:Z,s:"i"},{n:"date",f:F,s:"d"},{n:"function",f:G,s:"f"},{n:"hasLength",f:V,s:"l"}].map(function(t){var n=t.n;_t[n]="Invalid "+vt[t.s||"n"],mt[n]=t.f}),bt={apply:U,map:H,all:J,any:X},kt=["array","arrayLike","iterable","object"],Et=Array.prototype.slice,xt=Number.NEGATIVE_INFINITY,St=Number.POSITIVE_INFINITY,Ot=Array.isArray,It="function"==typeof Symbol,bt=$(bt,mt),gt=st(tt,et),dt=st(rt,it),wt=st(ot,ut),gt.not=lt(tt,dt),gt.maybe=lt(tt,wt),kt.forEach(ht),pt(gt,tt),pt(dt,rt),kt.forEach(yt),function(i){void 0!==(r=function(){return i}.call(n,e,n,t))&&(t.exports=r)}($(bt,{assert:gt,not:dt,maybe:wt}))}()},function(t,n,e){"use strict";t.exports={WAVE_SIZE:32,MEM_SIZE:4096}},function(t,n,e){"use strict";var r=e(14),i=e(12),o=e(9).Memory,u=e(7).Memory,a=e(13).Memory,c=e(10),s=e(11);t.exports={Processor:{init:r.init,connect:r.connect,disconnect:r.disconnect,play:r.play,stop:r.stop},Instrument:{init:i.init,getInst:i.getInst,getType:i.getType},Memory:{Waveform:{init:o.init,read:o.read,write:o.write},Oscillator:{init:u.init,read:u.read,write:u.write},Automation:{init:a.init,read:a.read,write:a.write}},Mixer:{reset:c.reset,getGain:c.getGain,setGain:c.setGain,setDecibel:c.setDecibel},Scheduler:{setTempo:s.setTempo,getTempo:s.getTempo,getPeriod:s.getPeriod,setFunc:s.setFunc}}},function(t,n,e){"use strict";t.exports={WAVE_SIZE:32,MEM_SIZE:256}},function(t,n,e){"use strict";var r=e(15),i=e(19),o=e(21),u=e(25),a=e(10),c=e(0),s=[],f="",l=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""){case"O":return new r;case"C":return new o;case"N":return new i}},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OOCN";s=t.split("").map(function(t){return l(t)}),f=s.map(function(t){return t.generatorType}).join(""),a.init(s.length)},p=function(){return f},y=function(t){return s[c.checkArrayID(t,s)]},v=function(t){return f[c.checkArrayID(t,f)]},_=function(t){var n=0,e=0;return s.map(function(r,i){var o=r.getHexSignal(t),c=a.getGain(i),s=r.getVol();n+=(u(o,s[0])-7.5)/7.5*c,e+=(u(o,s[1])-7.5)/7.5*c,r.processorClock(t)}),[n,e]};t.exports={init:h,getString:p,getGenerator:y,getType:v,voltage:_}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=e(1).assert,u=e(0),a=u.checkHex,c=function(){function t(){r(this,t),this.freq=0,this.waveNum=0,this.isInv=0,this.volL=0,this.volR=0,this.isMute=!1}return i(t,[{key:"setFreq",value:function(t){Number.isFinite(t)&&t>=0&&(t>22050&&(t=22050),this.freq=t,this.setPeriod(32*t))}},{key:"setPeriod",value:function(t){var n=t/44100,e=Math.floor(n),r=n-e;this.repeat=e,this.period=Math.pow(r,-1)}},{key:"processorClock",value:function(t){for(var n=t%this.period<1,e=n?this.repeat+1:this.repeat,r=0;r<e;r++)this.sequencer.next()}},{key:"setInv",value:function(t){this.isInv=o.boolean(t)}},{key:"setVolL",value:function(t){this.volL=a(t)}},{key:"setVolR",value:function(t){this.volR=a(t)}},{key:"setMute",value:function(t){this.isMute=o.boolean(t)}},{key:"getVol",value:function(){return!0===this.isMute||0===this.freq?[0,0]:[this.volL,this.volR]}},{key:"getHexSignal",value:function(){var t=this.sequencer.read();return this.isInv?15-t:t}}]),t}();t.exports=c},function(t,n,e){"use strict";var r=e(16),i=e(18),o=e(4).WAVE_SIZE,u=e(4).MEM_SIZE;t.exports={Memory:r,Sequencer:i,WAVE_SIZE:o,MEM_SIZE:u}},function(t,n,e){"use strict";var r=function(t){return function(n){return n>=t?0:15}},i=function(t){return t<16?t:31-t},o=function(t){return Math.floor(t/2)};t.exports={pulse:r,triangle:i,sawtooth:o}},function(t,n,e){"use strict";var r=e(22),i=e(24),o=e(2).WAVE_SIZE,u=e(2).MEM_SIZE;t.exports={Memory:r,Sequencer:i,WAVE_SIZE:o,MEM_SIZE:u}},function(t,n,e){"use strict";var r=[],i=function(t){r=new Array(t).fill(.25)},o=function(){r.fill(.25)},u=function(t){return r[t]},a=function(t,n){r[t]=n},c=function(t,n){n>12&&(n=12),n<-12&&(n=-12),r[t]=.25*Math.pow(10,n/20)};t.exports={init:i,reset:o,getGain:u,setGain:a,setDecibel:c}},function(t,n,e){"use strict";var r=e(1).assert,i=e(12),o={tempo:125,period:882,customfunc:function(t){return null},executeInst:function(t){t%o.period<1&&i.getList().forEach(function(t){t.execute(),t.next()})}},u=function(t){return 60/t/24*44100},a=function(t){r.number(t),o.tempo=t,o.period=u(o.tempo)},c=function(){return o.tempo},s=function(){return o.period},f=function(t){o.customfunc=t},l=function(t){o.customfunc(t),o.executeInst(t)};t.exports={setTempo:a,getTempo:c,getPeriod:s,setFunc:f,execute:l}},function(t,n,e){"use strict";var r=e(1).assert,i=e(5),o=e(26),u=e(0),a=function(t){return u.checkArrayID(t,c)},c=[],s=null,f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OOCN";t=r.string(t).slice(0,256),i.init(t),s=i.getString(),c=Array.from(s).map(function(t,n){return new o(n)})},l=function(){return c},h=function(){return s},p=function(t){return c[a(t)]},y=function(t){return s[a(t)]};t.exports={init:f,getList:l,getString:h,getType:y,getInst:p}},function(t,n,e){"use strict";var r=e(27),i=e(29);t.exports={Memory:r,Sequencer:i}},function(t,n,e){"use strict";var r=e(5),i=e(11),o=void 0,u=function(t,n){o=t.createScriptProcessor(n,2,2)},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;o.connect(t)},c=function(){o.disconnect()},s=function(){var t=0,n=o.bufferSize;o.onaudioprocess=function(e){for(var o=[e.outputBuffer.getChannelData(0),e.outputBuffer.getChannelData(1)],u=0;u<n;u++){var a=r.voltage(t);o[0][u]=a[0],o[1][u]=a[1],i.execute(t),t++}}},f=function(){var t=o.bufferSize;o.onaudioprocess=function(n){for(var e=[n.outputBuffer.getChannelData(0),n.outputBuffer.getChannelData(1)],r=0;r<t;r++)e[0][r]=0,e[1][r]=0}};t.exports={init:u,connect:a,disconnect:c,play:s,stop:f}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=e(6),c=e(7),s=e(0),f=c.Memory,l=c.Sequencer,h=c.MEM_SIZE,p=function(t){return s.checkRangedInt(t,0,h-1)},y=function(t){function n(){r(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.generatorType="O",t.sequencer=new l(f.read(0)),t}return o(n,t),u(n,[{key:"setWaveform",value:function(t){this.waveNum=p(t),this.sequencer=new l(f.read(t))}}]),n}(a);t.exports=y},function(t,n,e){"use strict";var r=e(17),i=e(8),o=e(0),u=e(4).MEM_SIZE,a=function(t){return o.checkRangedInt(t,0,u-1)},c={},s=function(){c=new Array(64);for(var t=0;t<32;t++)c[t]=new r({func:i.pulse(t)});for(var n=32;n<47;n++)c[n]=new r({func:i.triangle});for(var e=48;e<63;e++)c[e]=new r({func:i.sawtooth})},f=function(t,n){c[a(t)]=new r(n)},l=function(t){return a(t),void 0===c[t]&&(c[t]=new r),c[t]};t.exports={init:s,write:f,read:l}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=e(1).assert,u=e(8),a={name:"",func:u.pulse(4)},c=Symbol("func"),s=Symbol("name"),f=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this[c]=function(){return 0},this.name=void 0===n.name?a.name:n.name,this.func=void 0===n.func?a.func:n.func}return i(t,[{key:"name",set:function(t){this[s]=o.string(t).slice(0,32)},get:function(){return this[s]}},{key:"func",set:function(t){this[c]=o.function(t)},get:function(){return this[c]}}]),t}();t.exports=f},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=e(4).WAVE_SIZE,u=Symbol("function"),a=Symbol("current"),c=function(){function t(n){r(this,t),this[u]=n.func,this[a]=0}return i(t,[{key:"init",value:function(){this[a]=0}},{key:"read",value:function(){return this[u](this[a])}},{key:"next",value:function(){return this[a]<o-1?this[a]+=1:this[a]=0}}]),t}();t.exports=c},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=e(6),c=e(20),s=function(t){function n(){r(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.generatorType="N",t.sequencer=new c,t}return o(n,t),u(n,[{key:"setFreq",value:function(t){Number.isFinite(t)&&t>0&&(this.freq=t,this.setPeriod(t))}},{key:"setWaveform",value:function(t){1===t?(this.sequencer.setMode(!0),this.waveNum=t):0===t&&(this.sequencer.setMode(!1),this.waveNum=t)}}]),n}(a);t.exports=s},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=function(){function t(){r(this,t),this.__mode=0,this.__tapB=1,this.__register=1}return i(t,[{key:"setMode",value:function(t){this.__mode=t,this.__tapB=t?6:1}},{key:"next",value:function(){var t=1&this.__register,n=this.__register>>this.__tapB&1,e=(t^n)<<14;this.__register>>=1,this.__register|=e}},{key:"read",value:function(){return this.__register>>11}}]),t}();t.exports=o},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=e(6),c=e(9),s=e(0),f=c.Memory,l=c.Sequencer,h=c.MEM_SIZE,p=function(t){return s.checkRangedInt(t,0,h-1)},y=function(t){function n(){r(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.generatorType="C",t.sequencer=new l(f.read(0)),t}return o(n,t),u(n,[{key:"setWaveform",value:function(t){this.waveNum=p(t),this.sequencer=new l(f.read(t))}}]),n}(a);t.exports=y},function(t,n,e){"use strict";var r=e(23),i=e(0),o=e(2).MEM_SIZE,u=function(t){return i.checkRangedInt(t,0,o-1)},a={},c=function(){a=new Array(0)},s=function(t,n){a[u(t)]=new r(n)},f=function(t){return u(t),void 0===a[t]&&(a[t]=new r),a[t]};t.exports={init:c,write:s,read:f}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=e(1).assert,u=e(0),a=u.checkHex,c=e(2).WAVE_SIZE,s={name:"",list:new Array(c).fill(0)},f=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.name=void 0===n.name?s.name:n.name,this.list=void 0===n.list?s.list:n.list}return i(t,[{key:"name",set:function(t){this.__name=o.string(t).slice(0,32)},get:function(){return this.__name}},{key:"list",set:function(t){o.equal(t.length,c),t.forEach(function(t){return a(t)}),this.__list=t},get:function(){return this.__list}}]),t}();t.exports=f},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=e(2).WAVE_SIZE,u=Symbol("list"),a=Symbol("current"),c=function(){function t(n){r(this,t),this[u]=n.list,this[a]=0}return i(t,[{key:"init",value:function(){this[a]=0}},{key:"read",value:function(){return this[u][this[a]]}},{key:"next",value:function(){return this[a]<o-1?this[a]+=1:this[a]=0}}]),t}();t.exports=c},function(t,n,e){"use strict";for(var r=new Array(16),i=0;i<16;i++){r[i]=new Array(16);for(var o=0;o<16;o++){var u=i*o/15,a=(15-o)/2;r[i][o]=u+a}}t.exports=function(t,n){try{return r[t][n]}catch(e){throw e.message="Invalid Input: [Signal: "+t+" / Amp: "+n+"]",e}}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=e(1).assert,u=e(5),a=e(13),c=e(30),s=e(0),f=e(33),l=function(t){return o.match(o.hasLength(t,1),"[ADEW]")},h=s.checkHex,p=s.checkUByte,y=s.convertSByte,v=function(){function t(n){r(this,t),this.__id=s.checkArrayID(n,u.getString()),this.__type=u.getType(this.__id),this.__generator=u.getGenerator(this.__id),this.__note="---",this.__inv=!1,this.__volL=0,this.__volR=0,this.__tuneType=0,this.__bank=0,this.__automation={A:new a.Sequencer,D:new a.Sequencer,E:new a.Sequencer,W:new a.Sequencer,w:new a.Sequencer},this.__automationID={},this.setAutomation("A",0),this.setAutomation("D",0),this.setAutomation("E",0),this.setAutomation("W",0)}return i(t,[{key:"__readAutomation",value:function(t){return this.__automation[l(t)].read()}},{key:"__readPitch",value:function(){var t=this.__note;if("---"===t)return 0;o.string(t),o.hasLength(t,3);var n=y(this.__readAutomation("A")),e=y(this.__readAutomation("D")),r=this.__tuneType;return c.getFreq(r,t,n,e)}},{key:"__readEnvelope",value:function(){if("---"===this.note)return 0;var t=this.__readAutomation("E"),n=Math.floor(t/16),e=t%16,r=this.__volL,i=this.__volR;return{L:f(r,n),R:f(i,e)}}},{key:"__readWaveNumber",value:function(){var t=this.__bank,n=this.__readAutomation("W");return"C"===this.__type?256*t+n:n}},{key:"setNote",value:function(t){switch(o.string(t),o.hasLength(t,3),t){case"   ":case"___":break;case"===":this.release();break;case"---":default:this.__note=t,this.__automation.A.init(),this.__automation.D.init()}}},{key:"setVol",value:function(t,n){try{this.__volL=h(t)}catch(t){}try{this.__volR=h(n)}catch(t){}this.__automation.E.init(),this.__automation.W.init(),this.__automation.w.init()}},{key:"setTuneType",value:function(t){this.__tuneType=h(t)}},{key:"setBank",value:function(t){this.__bank=p(t)}},{key:"setAutomation",value:function(t,n){p(n),l(t),this.__automation[t]=new a.Sequencer(a.Memory.read(t,n)),this.__automationID[t]=n,"E"!==t&&"W"!==t&&"w"!==t||(this.__automation.E.init(),this.__automation.W.init(),this.__automation.w.init()),"A"!==t&&"D"!==t||(this.__automation.A.init(),this.__automation.D.init())}},{key:"setInst",value:function(t){this.inst=p(t),this.__automation.A.init(),this.__automation.D.init(),this.__automation.E.init(),this.__automation.W.init(),this.__automation.w.init()}},{key:"execute",value:function(){this.__generator.setFreq(this.__readPitch()),this.__generator.setWaveform(this.__readWaveNumber()),this.__generator.setInv(this.__inv),this.__generator.setVolL(this.__readEnvelope().L),this.__generator.setVolR(this.__readEnvelope().R)}},{key:"release",value:function(){this.__automation.A.release(),this.__automation.D.release(),this.__automation.E.release(),this.__automation.W.release(),this.__automation.w.release()}},{key:"next",value:function(){this.__automation.A.next(),this.__automation.D.next(),this.__automation.E.next(),this.__automation.W.next(),this.__automation.w.next()}}]),t}();t.exports=v},function(t,n,e){"use strict";var r=e(1).assert,i=e(28),o=e(0),u=function(t){return o.checkRangedInt(t,0,255)},a=function(t){return r.match(r.hasLength(t,1),"[ADEW]")},c={},s=function(){c.A=new Array(0),c.D=new Array(0),c.E=new Array(0),c.W=new Array(0)},f=function(t,n){return a(t),u(n),void 0===c[t][n]&&(c[t][n]=new i),c[t][n]},l=function(t,n,e){var o=new i(e);a(t),u(n),r.like(o,new i),c[t][n]=o};t.exports={init:s,read:f,write:l}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=e(1).assert,u=e(0),a={name:"",list:[0],loopstart:-1,loopend:-1},c=u.checkUByte,s=u.checkArrayID,f=Symbol("name"),l=Symbol("list"),h=Symbol("loopstart"),p=Symbol("loopend"),y=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.name=void 0===n.name?a.name:n.name,this.list=void 0===n.list?a.list:n.list,this.loopstart=void 0===n.loopstart?a.loopstart:n.loopstart,this.loopend=void 0===n.loopend?a.loopend:n.loopend}return i(t,[{key:"name",set:function(t){this[f]=o.string(t).slice(0,32)},get:function(){return this[f]}},{key:"list",set:function(t){this[l]=t.map(function(t){return c(t)})},get:function(){return this[l]}},{key:"loopstart",set:function(t){try{this[h]=s(t,this[l])}catch(n){if(-1!==t)throw n;this[h]=t}},get:function(){return this[h]}},{key:"loopend",set:function(t){try{this[p]=s(t,this[l])}catch(n){if(-1!==t)throw n;this[p]=t}},get:function(){return this[p]}}]),t}();t.exports=y},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),o=Symbol("list"),u=Symbol("loopstart"),a=Symbol("loopend"),c=Symbol("current"),s=Symbol("released"),f=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"",list:[0],loopstart:-1,loopend:-1};r(this,t),this[o]=n.list,this[u]=n.loopstart,this[a]=n.loopend,this[c]=0,this[s]=!1}return i(t,[{key:"init",value:function(){this[c]=0,this[s]=!1}},{key:"read",value:function(){return this[o][this[c]]}},{key:"next",value:function(){var t=this[u]>=0,n=this[a]>=0&&this[a]>=this[u],e=!this[s],r=n&&e?this[a]:this[o].length-1,i=t&&e?this[u]:r;return this[c]<r?this[c]+=1:this[c]=i}},{key:"release",value:function(){this[s]=!0}}]),t}();t.exports=f},function(t,n,e){"use strict";var r=e(31),i=e(32),o=new Array(16);o[0]=r,o[1]=i;var u=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return o[t](n,e,r)},a=function(t,n){o[t]=n};t.exports={getFreq:u,setTune:a}},function(t,n,e){"use strict";var r=Object.freeze({C:0,D:200,E:400,F:500,G:700,A:900,B:1100,c:0,d:200,e:400,f:500,g:700,a:900,b:1100}),i=Object.freeze({"#":100,"+":100,b:-100,"-":-100," ":0}),o=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return r[t[0]]+i[t[1]]+1200*(parseInt(t[2])+1)+100*n+e},u=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=o(t,n,e),i=(r-6900)/1200;return 440*Math.pow(2,i)};t.exports=u},function(t,n,e){"use strict";var r=e(1).assert,i=function(t){var n=r.integer(t),e=r.inRange(t,0,15);return n&&e},o=function(t){var n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),e=parseInt(t[0],16),r=parseInt(t[1],16);i(e),i(r);var o=15-e,u=7-r%8;0===u&&(u=.5);var a=1/u*524288*Math.pow(2,-(o+1))*Math.pow(2,n/1200);return a>1048576?1048576:a};t.exports=o},function(t,n,e){"use strict";for(var r=new Array(16),i=0;i<16;i++){r[i]=new Uint8Array(16);for(var o=0;o<16;o++)if(0===i||0===o)r[i][o]=0;else{var u=Math.floor(i*o/15);r[i][o]=u>1?u:1}}t.exports=function(t,n){try{return r[t][n]}catch(e){throw e.message="Invalid Input: ["+t+", "+n+"]",e}}}])});