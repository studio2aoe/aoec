!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.aoec=e():t.aoec=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){"use strict";var r=n(1).assert,i=function(t,e,n){return r.inRange(r.integer(t),e,n)},o=function(t,e){return i(t,0,e.length-1)},u=function(t){return i(t,0,15)},s=function(t){return i(t,0,255)},c=function(t){return i(t,-128,127)},a=function(t){return new Uint8Array(1).fill(c(t))[0]},f=function(t){return new Int8Array(1).fill(s(t))[0]},l=function(t){return r.hasLength(r.string(t),2),16*u(parseInt(t[0],16))+u(parseInt(t[1],16))},h=function(t){return f(l(t))};t.exports={checkRangedInt:i,checkArrayID:o,checkHex:u,checkUByte:s,checkSByte:c,convertUByte:a,convertSByte:f,parseUByte:l,parseSByte:h}},function(t,e,n){var r;!function(i){"use strict";function o(t,e){return t===e}function u(t){return void 0===t}function s(t){return null===t}function c(t){return void 0!==t&&null!==t}function a(t){var e;switch(t){case null:case void 0:case!1:case!0:return!0}return"string"===(e=typeof t)||"number"===e||Ot&&"symbol"===e}function f(t){return 0===t}function l(t){return t===Et||t===xt}function h(t){return"number"==typeof t&&t>Et&&t<xt}function p(t){return"number"==typeof t&&t%1==0}function y(t){return"number"==typeof t&&t%2==0}function v(t){return p(t)&&t%2!=0}function _(t,e){return h(t)&&t>e}function b(t,e){return h(t)&&t<e}function g(t,e,n){return e<n?_(t,e)&&t<n:b(t,e)&&t>n}function d(t,e){return h(t)&&t>=e}function m(t,e){return h(t)&&t<=e}function w(t,e,n){return e<n?d(t,e)&&t<=n:m(t,e)&&t>=n}function k(t){return _(t,0)}function q(t){return b(t,0)}function E(t){return"string"==typeof t}function x(t){return""===t}function S(t){return E(t)&&""!==t}function O(t,e){return E(t)&&-1!==t.indexOf(e)}function I(t,e){return E(t)&&!!t.match(e)}function A(t){return!1===t||!0===t}function j(t){return"[object Object]"===Object.prototype.toString.call(t)}function T(t){return j(t)&&0===Object.keys(t).length}function M(t){return j(t)&&Object.keys(t).length>0}function W(t,e){try{return t instanceof e}catch(t){return!1}}function P(t,e){try{return W(t,e)||t.constructor.name===e.name||Object.prototype.toString.call(t)==="[object "+e.name+"]"}catch(t){return!1}}function D(t,e){var n;for(n in e)if(e.hasOwnProperty(n)){if(!1===t.hasOwnProperty(n)||typeof t[n]!=typeof e[n])return!1;if(j(t[n])&&!1===D(t[n],e[n]))return!1}return!0}function R(t){return St(t)}function C(t){return R(t)&&0===t.length}function L(t){return R(t)&&_(t.length,0)}function V(t){return c(t)&&d(t.length,0)}function N(t){return Ot?c(t)&&G(t[Symbol.iterator]):V(t)}function B(t,e){var n,r,i,o,u;if(!c(t))return!1;if(Ot&&t[Symbol.iterator]&&G(t.values)){n=t.values();do{if(r=n.next(),r.value===e)return!0}while(!r.done);return!1}for(i=Object.keys(t),o=i.length,u=0;u<o;++u)if(t[i[u]]===e)return!0;return!1}function Z(t,e){return c(t)&&t.length===e}function F(t){return W(t,Date)&&p(t.getTime())}function G(t){return"function"==typeof t}function U(t,e){return dt.array(t),G(e)?t.map(function(t){return e(t)}):(dt.array(e),dt.hasLength(t,e.length),t.map(function(t,n){return e[n](t)}))}function H(t,e){return dt.object(t),G(e)?z(t,e):(dt.object(e),Y(t,e))}function z(t,e){var n={};return Object.keys(t).forEach(function(r){n[r]=e(t[r])}),n}function Y(t,e){var n={};return Object.keys(e).forEach(function(r){var i=e[r];G(i)?mt.assigned(t)?n[r]=!!i.m:n[r]=i(t[r]):j(i)&&(n[r]=Y(t[r],i))}),n}function J(t){return R(t)?K(t,!1):(dt.object(t),Q(t,!1))}function K(t,e){var n;for(n=0;n<t.length;n+=1)if(t[n]===e)return e;return!e}function Q(t,e){var n,r;for(n in t)if(t.hasOwnProperty(n)){if(r=t[n],j(r)&&Q(r,e)===e)return e;if(r===e)return e}return!e}function X(t){return R(t)?K(t,!0):(dt.object(t),Q(t,!0))}function $(t,e){return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function tt(t,e){return function(){return et(t,arguments,e)}}function et(t,e,n){var r=t.l||t.length,i=e[r],o=e[r+1];return nt(t.apply(null,e),S(i)?i:n,G(o)?o:TypeError),e[0]}function nt(t,e,n){if(t)return t;throw new(n||Error)(e||"Assertion failed")}function rt(t){var e=function(){return it(t.apply(null,arguments))};return e.l=t.length,e}function it(t){return!t}function ot(t){var e=function(){return!!mt.assigned(arguments[0])||t.apply(null,arguments)};return e.l=t.length,e.m=!0,e}function ut(t){return!1===c(t)||t}function st(t,e,n){var r=function(){var r,i;if(r=arguments[0],"maybe"===t&&mt.assigned(r))return!0;if(!e(r))return!1;r=ct(e,r),i=qt.call(arguments,1);try{r.forEach(function(e){if(("maybe"!==t||c(e))&&!n.apply(null,[e].concat(i)))throw 0})}catch(t){return!1}return!0};return r.l=n.length,r}function ct(t,e){switch(t){case V:return qt.call(e);case j:return Object.keys(e).map(function(t){return e[t]});default:return e}}function at(t,e){return ft([t,bt,e])}function ft(t){var e,n,r,i;return e=t.shift(),n=t.pop(),r=t.pop(),i=n||{},Object.keys(r).forEach(function(n){Object.defineProperty(i,n,{configurable:!1,enumerable:!0,writable:!1,value:e.apply(null,t.concat(r[n],_t[n]))})}),i}function lt(t,e){return ft([t,e,null])}function ht(t){bt[t].of=ft([st.bind(null,null),bt[t],bt,null])}function pt(t,e){kt.forEach(function(n){t[n].of=lt(e,bt[n].of)})}function yt(t){wt[t].of=ft([st.bind(null,"maybe"),bt[t],bt,null]),dt.maybe[t].of=lt(tt,wt[t].of),dt.not[t].of=lt(tt,mt[t].of)}var vt,_t,bt,gt,dt,mt,wt,kt,qt,Et,xt,St,Ot;vt={v:"value",n:"number",s:"string",b:"boolean",o:"object",t:"type",a:"array",al:"array-like",i:"iterable",d:"date",f:"function",l:"length"},_t={},bt={},[{n:"equal",f:o,s:"v"},{n:"undefined",f:u,s:"v"},{n:"null",f:s,s:"v"},{n:"assigned",f:c,s:"v"},{n:"primitive",f:a,s:"v"},{n:"includes",f:B,s:"v"},{n:"zero",f:f},{n:"infinity",f:l},{n:"number",f:h},{n:"integer",f:p},{n:"even",f:y},{n:"odd",f:v},{n:"greater",f:_},{n:"less",f:b},{n:"between",f:g},{n:"greaterOrEqual",f:d},{n:"lessOrEqual",f:m},{n:"inRange",f:w},{n:"positive",f:k},{n:"negative",f:q},{n:"string",f:E,s:"s"},{n:"emptyString",f:x,s:"s"},{n:"nonEmptyString",f:S,s:"s"},{n:"contains",f:O,s:"s"},{n:"match",f:I,s:"s"},{n:"boolean",f:A,s:"b"},{n:"object",f:j,s:"o"},{n:"emptyObject",f:T,s:"o"},{n:"nonEmptyObject",f:M,s:"o"},{n:"instanceStrict",f:W,s:"t"},{n:"instance",f:P,s:"t"},{n:"like",f:D,s:"t"},{n:"array",f:R,s:"a"},{n:"emptyArray",f:C,s:"a"},{n:"nonEmptyArray",f:L,s:"a"},{n:"arrayLike",f:V,s:"al"},{n:"iterable",f:N,s:"i"},{n:"date",f:F,s:"d"},{n:"function",f:G,s:"f"},{n:"hasLength",f:Z,s:"l"}].map(function(t){var e=t.n;_t[e]="Invalid "+vt[t.s||"n"],bt[e]=t.f}),gt={apply:U,map:H,all:J,any:X},kt=["array","arrayLike","iterable","object"],qt=Array.prototype.slice,Et=Number.NEGATIVE_INFINITY,xt=Number.POSITIVE_INFINITY,St=Array.isArray,Ot="function"==typeof Symbol,gt=$(gt,bt),dt=at(tt,nt),mt=at(rt,it),wt=at(ot,ut),dt.not=lt(tt,mt),dt.maybe=lt(tt,wt),kt.forEach(ht),pt(dt,tt),pt(mt,rt),kt.forEach(yt),function(i){void 0!==(r=function(){return i}.call(e,n,e,t))&&(t.exports=r)}($(gt,{assert:dt,not:mt,maybe:wt}))}()},function(t,e,n){"use strict";t.exports={WAVE_SIZE:32,MEM_SIZE:4096}},function(t,e,n){"use strict";var r=n(15),i=n(12),o=n(14),u=n(9).Memory,s=n(7).Memory,c=n(13).Memory,a=n(10),f=n(11);t.exports={Processor:{init:r.init,connect:r.connect,disconnect:r.disconnect,play:r.play,stop:r.stop},Instrument:{init:i.init,getInst:i.getInst,getType:i.getType},Memory:{Waveform:{init:u.init,read:u.read,write:u.write},Oscillator:{init:s.init,read:s.read,write:s.write},Automation:{init:c.init,read:c.read,write:c.write},Instrument:{init:o.init,read:o.read,write:o.write}},Mixer:{reset:a.reset,getGain:a.getGain,setGain:a.setGain,setDecibel:a.setDecibel},Scheduler:{setTempo:f.setTempo,getTempo:f.getTempo,getPeriod:f.getPeriod,setFunc:f.setFunc}}},function(t,e,n){"use strict";t.exports={WAVE_SIZE:32,MEM_SIZE:256}},function(t,e,n){"use strict";var r=n(16),i=n(20),o=n(22),u=n(26),s=n(10),c=n(0),a=[],f="",l=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""){case"O":return new r;case"W":return new o;case"N":return new i}},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OOWN";a=t.split("").map(function(t){return l(t)}),f=a.map(function(t){return t.generatorType}).join(""),s.init(a.length)},p=function(){return f},y=function(t){return a[c.checkArrayID(t,a)]},v=function(t){return f[c.checkArrayID(t,f)]},_=function(t){var e=0,n=0;return a.map(function(r,i){var o=r.getHexSignal(t),c=s.getGain(i),a=r.getVol();e+=(u(o,a[0])-7.5)/7.5*c,n+=(u(o,a[1])-7.5)/7.5*c,r.processorClock(t)}),[e,n]};t.exports={init:h,getString:p,getGenerator:y,getType:v,voltage:_}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1).assert,u=n(0),s=u.checkHex,c=function(){function t(){r(this,t),this.freq=0,this.waveNum=0,this.isInv=0,this.volL=0,this.volR=0,this.isMute=!1}return i(t,[{key:"setFreq",value:function(t){Number.isFinite(t)&&t>=0&&(t>22050&&(t=22050),this.freq=t,this.setPeriod(32*t))}},{key:"setPeriod",value:function(t){var e=t/44100,n=Math.floor(e),r=e-n;this.repeat=n,this.period=Math.pow(r,-1)}},{key:"processorClock",value:function(t){for(var e=t%this.period<1,n=e?this.repeat+1:this.repeat,r=0;r<n;r++)this.sequencer.next()}},{key:"setInv",value:function(t){this.isInv=o.boolean(t)}},{key:"setVolL",value:function(t){this.volL=s(t)}},{key:"setVolR",value:function(t){this.volR=s(t)}},{key:"setMute",value:function(t){this.isMute=o.boolean(t)}},{key:"getVol",value:function(){return!0===this.isMute||0===this.freq?[0,0]:[this.volL,this.volR]}},{key:"getHexSignal",value:function(){var t=this.sequencer.read();return this.isInv?15-t:t}}]),t}();t.exports=c},function(t,e,n){"use strict";var r=n(17),i=n(19),o=n(4).WAVE_SIZE,u=n(4).MEM_SIZE;t.exports={Memory:r,Sequencer:i,WAVE_SIZE:o,MEM_SIZE:u}},function(t,e,n){"use strict";var r=function(t){return function(e){return e>=t?0:15}},i=function(t){return t<16?t:31-t},o=function(t){return Math.floor(t/2)};t.exports={pulse:r,triangle:i,sawtooth:o}},function(t,e,n){"use strict";var r=n(23),i=n(25),o=n(2).WAVE_SIZE,u=n(2).MEM_SIZE;t.exports={Memory:r,Sequencer:i,WAVE_SIZE:o,MEM_SIZE:u}},function(t,e,n){"use strict";var r=[],i=function(t){r=new Array(t).fill(.25)},o=function(){r.fill(.25)},u=function(t){return r[t]},s=function(t,e){r[t]=e},c=function(t,e){e>12&&(e=12),e<-12&&(e=-12),r[t]=.25*Math.pow(10,e/20)};t.exports={init:i,reset:o,getGain:u,setGain:s,setDecibel:c}},function(t,e,n){"use strict";var r=n(1).assert,i=n(12),o={tempo:125,period:882,customfunc:function(t){return null},executeInst:function(t){t%o.period<1&&i.getList().forEach(function(t){t.execute(),t.next()})}},u=function(t){return 60/t/24*44100},s=function(t){r.number(t),o.tempo=t,o.period=u(o.tempo)},c=function(){return o.tempo},a=function(){return o.period},f=function(t){o.customfunc=t},l=function(t){o.customfunc(t),o.executeInst(t)};t.exports={setTempo:s,getTempo:c,getPeriod:a,setFunc:f,execute:l}},function(t,e,n){"use strict";var r=n(1).assert,i=n(5),o=n(27),u=n(0),s=function(t){return u.checkArrayID(t,c)},c=[],a=null,f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OOWN";t=r.string(t).slice(0,256),i.init(t),a=i.getString(),c=Array.from(a).map(function(t,e){return new o(e)})},l=function(){return c},h=function(){return a},p=function(t){return c[s(t)]},y=function(t){return a[s(t)]};t.exports={init:f,getList:l,getString:h,getType:y,getInst:p}},function(t,e,n){"use strict";var r=n(28),i=n(30);t.exports={Memory:r,Sequencer:i}},function(t,e,n){"use strict";var r=n(35),i=n(0),o=function(t){return i.checkRangedInt(t,0,255)},u=[],s=function(){u=new Array(0)},c=function(t,e){u[o(t)]=new r(e)},a=function(t){return o(t),void 0===u[t]&&(u[t]=new r),u[t]};t.exports={init:s,write:c,read:a}},function(t,e,n){"use strict";var r=n(5),i=n(11),o=void 0,u=function(t,e){o=t.createScriptProcessor(e,2,2)},s=function(t){o.connect(t)},c=function(){o.disconnect()},a=function(){var t=0,e=o.bufferSize;o.onaudioprocess=function(n){for(var o=[n.outputBuffer.getChannelData(0),n.outputBuffer.getChannelData(1)],u=0;u<e;u++){var s=r.voltage(t);o[0][u]=s[0],o[1][u]=s[1],i.execute(t),t++}}},f=function(){var t=o.bufferSize;o.onaudioprocess=function(e){for(var n=[e.outputBuffer.getChannelData(0),e.outputBuffer.getChannelData(1)],r=0;r<t;r++)n[0][r]=0,n[1][r]=0}};t.exports={init:u,connect:s,disconnect:c,play:a,stop:f}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(6),c=n(7),a=n(0),f=c.Memory,l=c.Sequencer,h=c.MEM_SIZE,p=function(t){return a.checkRangedInt(t,0,h-1)},y=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.generatorType="O",t.sequencer=new l(f.read(0)),t}return o(e,t),u(e,[{key:"setWaveform",value:function(t){this.waveNum=p(t),this.sequencer=new l(f.read(t))}}]),e}(s);t.exports=y},function(t,e,n){"use strict";var r=n(18),i=n(8),o=n(0),u=n(4).MEM_SIZE,s=function(t){return o.checkRangedInt(t,0,u-1)},c={},a=function(){c=new Array(64);for(var t=0;t<32;t++)c[t]=new r({func:i.pulse(t)});for(var e=32;e<47;e++)c[e]=new r({func:i.triangle});for(var n=48;n<63;n++)c[n]=new r({func:i.sawtooth})},f=function(t,e){c[s(t)]=new r(e)},l=function(t){return s(t),void 0===c[t]&&(c[t]=new r),c[t]};t.exports={init:a,write:f,read:l}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1).assert,u=n(8),s={name:"",func:u.pulse(4)},c=Symbol("func"),a=Symbol("name"),f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this[c]=function(){return 0},this.name=void 0===e.name?s.name:e.name,this.func=void 0===e.func?s.func:e.func}return i(t,[{key:"name",set:function(t){this[a]=o.string(t).slice(0,32)},get:function(){return this[a]}},{key:"func",set:function(t){this[c]=o.function(t)},get:function(){return this[c]}}]),t}();t.exports=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(4).WAVE_SIZE,u=Symbol("function"),s=Symbol("current"),c=function(){function t(e){r(this,t),this[u]=e.func,this[s]=0}return i(t,[{key:"init",value:function(){this[s]=0}},{key:"read",value:function(){return this[u](this[s])}},{key:"next",value:function(){return this[s]<o-1?this[s]+=1:this[s]=0}}]),t}();t.exports=c},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(6),c=n(21),a=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.generatorType="N",t.sequencer=new c,t}return o(e,t),u(e,[{key:"setFreq",value:function(t){Number.isFinite(t)&&t>0&&(this.freq=t,this.setPeriod(t))}},{key:"setWaveform",value:function(t){1===t?(this.sequencer.setMode(!0),this.waveNum=t):0===t&&(this.sequencer.setMode(!1),this.waveNum=t)}}]),e}(s);t.exports=a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(){r(this,t),this.__mode=0,this.__tapB=1,this.__register=1}return i(t,[{key:"setMode",value:function(t){this.__mode=t,this.__tapB=t?6:1}},{key:"next",value:function(){var t=1&this.__register,e=this.__register>>this.__tapB&1,n=(t^e)<<14;this.__register>>=1,this.__register|=n}},{key:"read",value:function(){return this.__register>>11}}]),t}();t.exports=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),s=n(6),c=n(9),a=n(0),f=c.Memory,l=c.Sequencer,h=c.MEM_SIZE,p=function(t){return a.checkRangedInt(t,0,h-1)},y=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.generatorType="C",t.sequencer=new l(f.read(0)),t}return o(e,t),u(e,[{key:"setWaveform",value:function(t){this.waveNum=p(t),this.sequencer=new l(f.read(t))}}]),e}(s);t.exports=y},function(t,e,n){"use strict";var r=n(24),i=n(0),o=n(2).MEM_SIZE,u=function(t){return i.checkRangedInt(t,0,o-1)},s={},c=function(){s=new Array(0)},a=function(t,e){s[u(t)]=new r(e)},f=function(t){return u(t),void 0===s[t]&&(s[t]=new r),s[t]};t.exports={init:c,write:a,read:f}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1).assert,u=n(0),s=u.checkHex,c=n(2).WAVE_SIZE,a={name:"",list:new Array(c).fill(0)},f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.name=void 0===e.name?a.name:e.name,this.list=void 0===e.list?a.list:e.list}return i(t,[{key:"name",set:function(t){this.__name=o.string(t).slice(0,32)},get:function(){return this.__name}},{key:"list",set:function(t){o.equal(t.length,c),t.forEach(function(t){return s(t)}),this.__list=t},get:function(){return this.__list}}]),t}();t.exports=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(2).WAVE_SIZE,u=Symbol("list"),s=Symbol("current"),c=function(){function t(e){r(this,t),this[u]=e.list,this[s]=0}return i(t,[{key:"init",value:function(){this[s]=0}},{key:"read",value:function(){return this[u][this[s]]}},{key:"next",value:function(){return this[s]<o-1?this[s]+=1:this[s]=0}}]),t}();t.exports=c},function(t,e,n){"use strict";for(var r=new Array(16),i=0;i<16;i++){r[i]=new Array(16);for(var o=0;o<16;o++){var u=i*o/15,s=(15-o)/2;r[i][o]=u+s}}t.exports=function(t,e){try{return r[t][e]}catch(n){throw n.message="Invalid Input: [Signal: "+t+" / Amp: "+e+"]",n}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1).assert,u=n(5),s=n(13),c=n(31),a=n(0),f=n(34),l=n(14),h=a.checkHex,p=a.checkUByte,y=a.convertSByte,v=function(){function t(e){r(this,t),this.__id=a.checkArrayID(e,u.getString()),this.__type=u.getType(this.__id),this.__generator=u.getGenerator(this.__id),this.__note="---",this.__inv=!1,this.__volL=0,this.__volR=0,this.__tuneType=0,this.__bank=0,this.__seqA=new s.Sequencer,this.__seqD=new s.Sequencer,this.__seqE=new s.Sequencer,this.__seqW=new s.Sequencer}return i(t,[{key:"setNote",value:function(t){switch(o.string(t),o.hasLength(t,3),t){case"   ":case"___":break;case"===":this.release();break;case"---":default:this.__note=t,this.__seqA.init(),this.__seqD.init()}}},{key:"setVol",value:function(t,e){this.setVolL(t),this.setVolR(e)}},{key:"setVolL",value:function(t){try{this.__volL=h(t)}catch(t){}this.__seqE.init(),this.__seqW.init()}},{key:"setVolR",value:function(t){try{this.__volR=h(t)}catch(t){}this.__seqE.init(),this.__seqW.init()}},{key:"setTuneType",value:function(t){this.__tuneType=h(t)}},{key:"setBank",value:function(t){this.__bank=h(t)}},{key:"setA",value:function(t){p(t),this.__seqA=new s.Sequencer(s.Memory.read("A",t)),this.__seqA.id=t,this.__seqA.init(),this.__seqD.init()}},{key:"setD",value:function(t){p(t),this.__seqD=new s.Sequencer(s.Memory.read("D",t)),this.__seqD.id=t,this.__seqA.init(),this.__seqD.init()}},{key:"setE",value:function(t){p(t),this.__seqE=new s.Sequencer(s.Memory.read("E",t)),this.__seqE.id=t,this.__seqE.init(),this.__seqW.init()}},{key:"setW",value:function(t){p(t),this.__seqW=new s.Sequencer(s.Memory.read("W",t)),this.__seqW.id=t,this.__seqE.init(),this.__seqW.init()}},{key:"setInst",value:function(t){this.__inst=p(t);var e=l.read(t);e.inv&&this.setInv(e.inv),e.tuneType&&this.setTuneType(e.tuneType),e.bank&&this.setBank(e.bank),e.seqA&&this.setA(e.seqA),e.seqD&&this.setD(e.seqD),e.seqE&&this.setE(e.seqE),e.seqW&&this.setW(e.seqW),this.__seqA.init(),this.__seqD.init(),this.__seqE.init(),this.__seqW.init()}},{key:"__readPitch",value:function(){var t=this.__note;if("---"===t)return 0;o.string(t),o.hasLength(t,3);var e=y(this.__seqA.read()),n=y(this.__seqD.read()),r=this.__tuneType;return c.getFreq(r,t,e,n)}},{key:"__readEnvelope",value:function(){if("---"===this.note)return 0;var t=this.__seqE.read(),e=Math.floor(t/16),n=t%16,r=this.__volL,i=this.__volR;return{L:f(r,e),R:f(i,n)}}},{key:"__readWaveNumber",value:function(){var t=this.__bank,e=this.__seqW.read();return"C"===this.__type?256*t+e:e}},{key:"execute",value:function(){this.__generator.setFreq(this.__readPitch()),this.__generator.setWaveform(this.__readWaveNumber()),this.__generator.setInv(this.__inv),this.__generator.setVolL(this.__readEnvelope().L),this.__generator.setVolR(this.__readEnvelope().R)}},{key:"release",value:function(){this.__seqA.release(),this.__seqD.release(),this.__seqE.release(),this.__seqW.release()}},{key:"next",value:function(){this.__seqA.next(),this.__seqD.next(),this.__seqE.next(),this.__seqW.next()}}]),t}();t.exports=v},function(t,e,n){"use strict";var r=n(1).assert,i=n(29),o=n(0),u=function(t){return o.checkRangedInt(t,0,255)},s=function(t){return r.match(r.hasLength(t,1),"[ADEW]")},c={},a=function(){c.A=new Array(0),c.D=new Array(0),c.E=new Array(0),c.W=new Array(0)},f=function(t,e){return s(t),u(e),void 0===c[t][e]&&(c[t][e]=new i),c[t][e]},l=function(t,e,n){var o=new i(n);s(t),u(e),r.like(o,new i),c[t][e]=o};t.exports={init:a,read:f,write:l}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1).assert,u=n(0),s={name:"",list:[0],loopstart:-1,loopend:-1},c=u.checkUByte,a=u.checkArrayID,f=Symbol("name"),l=Symbol("list"),h=Symbol("loopstart"),p=Symbol("loopend"),y=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.name=void 0===e.name?s.name:e.name,this.list=void 0===e.list?s.list:e.list,this.loopstart=void 0===e.loopstart?s.loopstart:e.loopstart,this.loopend=void 0===e.loopend?s.loopend:e.loopend}return i(t,[{key:"name",set:function(t){this[f]=o.string(t).slice(0,32)},get:function(){return this[f]}},{key:"list",set:function(t){this[l]=t.map(function(t){return c(t)})},get:function(){return this[l]}},{key:"loopstart",set:function(t){try{this[h]=a(t,this[l])}catch(e){if(-1!==t)throw e;this[h]=t}},get:function(){return this[h]}},{key:"loopend",set:function(t){try{this[p]=a(t,this[l])}catch(e){if(-1!==t)throw e;this[p]=t}},get:function(){return this[p]}}]),t}();t.exports=y},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=Symbol("list"),u=Symbol("loopstart"),s=Symbol("loopend"),c=Symbol("current"),a=Symbol("released"),f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"",list:[0],loopstart:-1,loopend:-1};r(this,t),this[o]=e.list,this[u]=e.loopstart,this[s]=e.loopend,this[c]=0,this[a]=!1}return i(t,[{key:"init",value:function(){this[c]=0,this[a]=!1}},{key:"read",value:function(){return this[o][this[c]]}},{key:"next",value:function(){var t=this[u]>=0,e=this[s]>=0&&this[s]>=this[u],n=!this[a],r=e&&n?this[s]:this[o].length-1,i=t&&n?this[u]:r;return this[c]<r?this[c]+=1:this[c]=i}},{key:"release",value:function(){this[a]=!0}}]),t}();t.exports=f},function(t,e,n){"use strict";var r=n(32),i=n(33),o=new Array(16);o[0]=r,o[1]=i;var u=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return o[t](e,n,r)},s=function(t,e){o[t]=e};t.exports={getFreq:u,setTune:s}},function(t,e,n){"use strict";var r=Object.freeze({C:0,D:200,E:400,F:500,G:700,A:900,B:1100,c:0,d:200,e:400,f:500,g:700,a:900,b:1100}),i=Object.freeze({"#":100,"+":100,b:-100,"-":-100," ":0}),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return r[t[0]]+i[t[1]]+1200*(parseInt(t[2])+1)+100*e+n},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=o(t,e,n),i=(r-6900)/1200;return 440*Math.pow(2,i)};t.exports=u},function(t,e,n){"use strict";var r=n(1).assert,i=function(t){var e=r.integer(t),n=r.inRange(t,0,15);return e&&n},o=function(t){var e=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),n=parseInt(t[0],16),r=parseInt(t[1],16);i(n),i(r);var o=15-n,u=7-r%8;0===u&&(u=.5);var s=1/u*524288*Math.pow(2,-(o+1))*Math.pow(2,e/1200);return s>1048576?1048576:s};t.exports=o},function(t,e,n){"use strict";for(var r=new Array(16),i=0;i<16;i++){r[i]=new Uint8Array(16);for(var o=0;o<16;o++)if(0===i||0===o)r[i][o]=0;else{var u=Math.floor(i*o/15);r[i][o]=u>1?u:1}}t.exports=function(t,e){try{return r[t][e]}catch(n){throw n.message="Invalid Input: ["+t+", "+e+"]",n}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1).assert,u=n(0),s=u.checkHex,c=u.checkUByte,a=function(t,e){try{return e(t)}catch(t){return}},f=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.name=void 0===e.name?"":e.name,this.inv=e.inv,this.tuneType=e.tuneType,this.bank=e.bank,this.seqA=e.seqA,this.seqD=e.seqD,this.seqE=e.seqE,this.seqW=e.seqW}return i(t,[{key:"name",set:function(t){this.__name=o.string(t).slice(0,32)},get:function(){return this.__name}},{key:"inv",set:function(t){this.__inv=a(t,o.boolean)},get:function(){return this.__inv}},{key:"tuneType",set:function(t){this.__tuneType=a(t,s)},get:function(){return this.__tuneType}},{key:"bank",set:function(t){this.__bank=a(t,s)},get:function(){return this.__bank}},{key:"seqA",set:function(t){this.__seqA=a(t,c)},get:function(){return this.__seqA}},{key:"seqD",set:function(t){this.__seqD=a(t,c)},get:function(){return this.__seqD}},{key:"seqE",set:function(t){this.__seqE=a(t,c)},get:function(){return this.__seqE}},{key:"seqW",set:function(t){this.__seqW=a(t,c)},get:function(){return this.__seqW}}]),t}();t.exports=f}])});