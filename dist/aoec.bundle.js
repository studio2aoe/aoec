!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.aoec=t():e.aoec=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=5)}([function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(8),u=function(){function e(){r(this,e),this.freq=0,this.waveNum=0,this.isInv=0,this.volL=0,this.volR=0,this.isMute=!1,this.generatorCount=0}return o(e,[{key:"setFreq",value:function(e){Number.isFinite(e)&&e>=0&&(e>22050&&(e=22050),this.freq=e,this.setPeriod(32*e))}},{key:"setPeriod",value:function(e){var t=e/44100,n=Math.floor(t),r=t-n;this.repeat=n,this.period=Math.pow(r,-1)}},{key:"processorClock",value:function(e){for(var t=e%this.period<1,n=t?this.repeat+1:this.repeat,r=0;r<n;r++)this.generatorClock()}},{key:"generatorClock",value:function(){++this.generatorCount%32==0&&(this.generatorCount=0)}},{key:"setWaveform",value:function(e){Number.isInteger(e)&&e>=0&&(this.waveNum=e)}},{key:"setInv",value:function(e){"boolean"==typeof e&&(this.isInv=e)}},{key:"setVolL",value:function(e){Number.isInteger(e)&&e>=0&&e<=15&&(this.volL=e)}},{key:"setVolR",value:function(e){Number.isInteger(e)&&e>=0&&e<=15&&(this.volR=e)}},{key:"setMute",value:function(e){"boolean"==typeof e&&(this.isMute=e)}},{key:"calcHexSignal",value:function(){return 0}},{key:"getHexSignal",value:function(){if(!0===this.isMute||0===this.freq)return[7.5,7.5];var e=this.calcHexSignal(),t=0===this.volL?7.5:i(e,this.volL),n=0===this.volL?7.5:i(e,this.volR);return[this.isInv?15-t:t,this.isInv?15-n:n]}}]),e}();e.exports=u},function(e,t,n){"use strict";var r=n(7),o=n(9),i=n(11),u=n(3),s=[],c="",a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"BBCN";s=e.split("").map(function(e){return f(e)}),u.init(s.length),c=s.map(function(e){return e.generatorType}).join("")},f=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""){case"B":return new r;case"C":return new i;case"N":return new o}},l=function(e,t,n,r,o,i){p(e,t),v(e,n),h(e,r),y(e,o),g(e,i)},p=function(e,t){s[e].setFreq(t)},v=function(e,t){s[e].setWaveform(t)},h=function(e,t){s[e].setInv(t)},y=function(e,t){s[e].setVolL(t)},g=function(e,t){s[e].setVolR(t)},b=function(e,t){s[e].setMute(t)},d=function(e){return s[e].freq},m=function(e){return s[e].waveNum},w=function(e){return s[e].isInv},_=function(e){return s[e].volL},k=function(e){return s[e].volR},x=function(e){return s[e].isMute},L=function(){return c},O=function(e){var t=0,n=0;return s.map(function(r,o){var i=u.getGain(o),s=r.getHexSignal(e);r.processorClock(e),t+=(s[0]-7.5)/7.5*i,n+=(s[1]-7.5)/7.5*i}),[t,n]};e.exports={init:a,send:l,sendFreq:p,sendNum:v,sendInv:h,sendVolL:y,sendVolR:g,sendMute:b,getFreq:d,getNum:m,getInv:w,getVolL:_,getVolR:k,getMute:x,getString:L,getVoltage:O}},function(e,t,n){"use strict";function r(e,t){try{c[e].write(t)}catch(t){"WaveformLocked"===t.name&&(t.message="Waveform ID "+e+" is locked. waveform change failed.")}}function o(e){return c[e].read()}function i(e,t){!0!==t&&!1!==t||c[e].setLock(t)}function u(e){return c[e].isLock()}for(var s=n(12),c=new Array(4096),a=0;a<4096;a++)c[a]=new s;e.exports={write:r,read:o,setLock:i,isLock:u}},function(e,t,n){"use strict";var r=[],o=function(e){r=new Array(e).fill(.25)},i=function(){r.fill(.25)},u=function(e){return r[e]},s=function(e,t){r[e]=t},c=function(e,t){t>12&&(t=12),t<-12&&(t=-12),r[e]=.25*Math.pow(10,t/20)};e.exports={init:o,reset:i,getGain:u,setGain:s,setDecibel:c}},function(e,t,n){"use strict";var r=function(){},o=function(e){r=e},i=function(e){return r(e)};e.exports={setFunc:o,execute:i}},function(e,t,n){"use strict";var r=n(6),o=n(1),i=n(2),u=n(3),s=n(4);e.exports={Processor:{init:r.init,connect:r.connect,disconnect:r.disconnect,play:r.play,stop:r.stop},GeneratorSet:{init:o.init,send:o.send,sendFreq:o.sendFreq,sendNum:o.sendNum,sendInv:o.sendInv,sendVolL:o.sendVolL,sendVolR:o.sendVolR,sendMute:o.sendMute,getFreq:o.getFreq,getNum:o.getNum,getInv:o.getInv,getVolL:o.getVolL,getVolR:o.getVolR,getMute:o.getMute,getString:o.getString},WaveformMemory:{write:i.write,read:i.read,setLock:i.setLock,isLock:i.isLock},Mixer:{reset:u.reset,getGain:u.getGain,setGain:u.setGain,setDecibel:u.setDecibel},Scheduler:{setFunc:s.setFunc}}},function(e,t,n){"use strict";var r=n(1),o=n(4),i=void 0,u=function(e,t){i=e.createScriptProcessor(t,2,2)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;i.connect(e)},c=function(){i.disconnect()},a=function(){var e=0,t=i.bufferSize;i.onaudioprocess=function(n){for(var i=[n.outputBuffer.getChannelData(0),n.outputBuffer.getChannelData(1)],u=0;u<t;u++){var s=r.getVoltage(e);i[0][u]=s[0],i[1][u]=s[1],o.execute(e),e++}}},f=function(){var e=i.bufferSize;i.onaudioprocess=function(t){for(var n=[t.outputBuffer.getChannelData(0),t.outputBuffer.getChannelData(1)],r=0;r<e;r++)n[0][r]=0,n[1][r]=0}};e.exports={init:u,connect:s,disconnect:c,play:a,stop:f}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.generatorType="B",e}return i(t,e),u(t,[{key:"calcHexSignal",value:function(){var e=this.generatorCount,t=this.waveNum;return 0===t?0:t<=31?e>=t?0:15:t>=32&&t<=47?e<16?e:31-e:t>=48&&t<=63?Math.floor(e/2):0}}]),t}(s);e.exports=c},function(e,t,n){"use strict";for(var r=new Array(16),o=0;o<16;o++){r[o]=new Uint8Array(16);for(var i=0;i<16;i++)if(0===o||0===i)r[o][i]=0;else{var u=Math.floor(o*i/15);u=u>1?u:1,u+=Math.floor((16-i)/2),r[o][i]=u}}e.exports=function(e,t){try{return r[e][t]}catch(n){throw n.message="Invalid Input: [Signal: "+e+" / Amp: "+t+"]",n}}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=n(10),a=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.generatorType="N",e.lfsr=new c,e}return i(t,e),u(t,[{key:"setFreq",value:function(e){Number.isFinite(e)&&e>0&&(this.freq=e,this.setPeriod(e))}},{key:"setWaveform",value:function(e){1===e?(this.lfsr.setMode(!0),this.waveNum=e):0===e&&(this.lfsr.setMode(!1),this.waveNum=e)}},{key:"generatorClock",value:function(){this.lfsr.clock()}},{key:"calcHexSignal",value:function(e){return this.lfsr.getHex()}}]),t}(s);e.exports=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e),this.__mode=0,this.__tapB=1,this.__register=1}return o(e,[{key:"setMode",value:function(e){this.__mode=e,this.__tapB=e?6:1}},{key:"clock",value:function(){var e=1&this.__register,t=this.__register>>this.__tapB&1,n=(e^t)<<14;this.__register>>=1,this.__register|=n}},{key:"getHex",value:function(){return this.__register>>11}}]),e}();e.exports=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=n(2),a=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.generatorType="C",e}return i(t,e),u(t,[{key:"setWaveform",value:function(e){Number.isInteger(e)&&e>=0&&e<4096&&(this.waveNum=e)}},{key:"calcHexSignal",value:function(){return c.read(this.waveNum)[this.generatorCount]}}]),t}(s);e.exports=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=32,u=function(){function e(t){r(this,e),this.__value=new Int8Array(i),this.write(t),this.setLock(!1)}return o(e,[{key:"write",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.__isLock){var t=new Error;throw t.name="WaveformLocked",t.message="This waveform is locked",t}this.__value=this.__value.map(function(t,n){var r=parseInt(e[n],16);return Number.isInteger(r)&&r>=0&&r<=16?r:0})}},{key:"read",value:function(){return this.__value}},{key:"setLock",value:function(e){!0!==e&&!1!==e||(this.__isLock=e)}},{key:"isLock",value:function(){return this.__isLock}}]),e}();e.exports=u}])});