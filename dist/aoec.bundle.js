!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.aoec=e():t.aoec=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){var r;!function(i){"use strict";function o(t,e){return t===e}function u(t){return void 0===t}function a(t){return null===t}function s(t){return void 0!==t&&null!==t}function f(t){var e;switch(t){case null:case void 0:case!1:case!0:return!0}return"string"===(e=typeof t)||"number"===e||xt&&"symbol"===e}function c(t){return 0===t}function h(t){return t===St||t===It}function l(t){return"number"==typeof t&&t>St&&t<It}function p(t){return"number"==typeof t&&t%1==0}function y(t){return"number"==typeof t&&t%2==0}function g(t){return p(t)&&t%2!=0}function v(t,e){return l(t)&&t>e}function w(t,e){return l(t)&&t<e}function _(t,e,n){return e<n?v(t,e)&&t<n:w(t,e)&&t>n}function d(t,e){return l(t)&&t>=e}function b(t,e){return l(t)&&t<=e}function m(t,e,n){return e<n?d(t,e)&&t<=n:b(t,e)&&t>=n}function E(t){return v(t,0)}function A(t){return w(t,0)}function S(t){return"string"==typeof t}function I(t){return""===t}function k(t){return S(t)&&""!==t}function x(t,e){return S(t)&&-1!==t.indexOf(e)}function T(t,e){return S(t)&&!!t.match(e)}function P(t){return!1===t||!0===t}function R(t){return"[object Object]"===Object.prototype.toString.call(t)}function O(t){return R(t)&&0===Object.keys(t).length}function M(t){return R(t)&&Object.keys(t).length>0}function B(t,e){try{return t instanceof e}catch(t){return!1}}function U(t,e){try{return B(t,e)||t.constructor.name===e.name||Object.prototype.toString.call(t)==="[object "+e.name+"]"}catch(t){return!1}}function j(t,e){var n;for(n in e)if(e.hasOwnProperty(n)){if(!1===t.hasOwnProperty(n)||typeof t[n]!=typeof e[n])return!1;if(R(t[n])&&!1===j(t[n],e[n]))return!1}return!0}function C(t){return kt(t)}function L(t){return C(t)&&0===t.length}function D(t){return C(t)&&v(t.length,0)}function Y(t){return s(t)&&d(t.length,0)}function N(t){return xt?s(t)&&V(t[Symbol.iterator]):Y(t)}function q(t,e){var n,r,i,o,u;if(!s(t))return!1;if(xt&&t[Symbol.iterator]&&V(t.values)){n=t.values();do{if(r=n.next(),r.value===e)return!0}while(!r.done);return!1}for(i=Object.keys(t),o=i.length,u=0;u<o;++u)if(t[i[u]]===e)return!0;return!1}function W(t,e){return s(t)&&t.length===e}function F(t){return B(t,Date)&&p(t.getTime())}function V(t){return"function"==typeof t}function Z(t,e){return dt.array(t),V(e)?t.map(function(t){return e(t)}):(dt.array(e),dt.hasLength(t,e.length),t.map(function(t,n){return e[n](t)}))}function z(t,e){return dt.object(t),V(e)?G(t,e):(dt.object(e),H(t,e))}function G(t,e){var n={};return Object.keys(t).forEach(function(r){n[r]=e(t[r])}),n}function H(t,e){var n={};return Object.keys(e).forEach(function(r){var i=e[r];V(i)?bt.assigned(t)?n[r]=!!i.m:n[r]=i(t[r]):R(i)&&(n[r]=H(t[r],i))}),n}function X(t){return C(t)?J(t,!1):(dt.object(t),K(t,!1))}function J(t,e){var n;for(n=0;n<t.length;n+=1)if(t[n]===e)return e;return!e}function K(t,e){var n,r;for(n in t)if(t.hasOwnProperty(n)){if(r=t[n],R(r)&&K(r,e)===e)return e;if(r===e)return e}return!e}function Q(t){return C(t)?J(t,!0):(dt.object(t),K(t,!0))}function $(t,e){return Object.keys(e).forEach(function(n){t[n]=e[n]}),t}function tt(t,e){return function(){return et(t,arguments,e)}}function et(t,e,n){var r=t.l||t.length,i=e[r],o=e[r+1];return nt(t.apply(null,e),k(i)?i:n,V(o)?o:TypeError),e[0]}function nt(t,e,n){if(t)return t;throw new(n||Error)(e||"Assertion failed")}function rt(t){var e=function(){return it(t.apply(null,arguments))};return e.l=t.length,e}function it(t){return!t}function ot(t){var e=function(){return!!bt.assigned(arguments[0])||t.apply(null,arguments)};return e.l=t.length,e.m=!0,e}function ut(t){return!1===s(t)||t}function at(t,e,n){var r=function(){var r,i;if(r=arguments[0],"maybe"===t&&bt.assigned(r))return!0;if(!e(r))return!1;r=st(e,r),i=At.call(arguments,1);try{r.forEach(function(e){if(("maybe"!==t||s(e))&&!n.apply(null,[e].concat(i)))throw 0})}catch(t){return!1}return!0};return r.l=n.length,r}function st(t,e){switch(t){case Y:return At.call(e);case R:return Object.keys(e).map(function(t){return e[t]});default:return e}}function ft(t,e){return ct([t,wt,e])}function ct(t){var e,n,r,i;return e=t.shift(),n=t.pop(),r=t.pop(),i=n||{},Object.keys(r).forEach(function(n){Object.defineProperty(i,n,{configurable:!1,enumerable:!0,writable:!1,value:e.apply(null,t.concat(r[n],vt[n]))})}),i}function ht(t,e){return ct([t,e,null])}function lt(t){wt[t].of=ct([at.bind(null,null),wt[t],wt,null])}function pt(t,e){Et.forEach(function(n){t[n].of=ht(e,wt[n].of)})}function yt(t){mt[t].of=ct([at.bind(null,"maybe"),wt[t],wt,null]),dt.maybe[t].of=ht(tt,mt[t].of),dt.not[t].of=ht(tt,bt[t].of)}var gt,vt,wt,_t,dt,bt,mt,Et,At,St,It,kt,xt;gt={v:"value",n:"number",s:"string",b:"boolean",o:"object",t:"type",a:"array",al:"array-like",i:"iterable",d:"date",f:"function",l:"length"},vt={},wt={},[{n:"equal",f:o,s:"v"},{n:"undefined",f:u,s:"v"},{n:"null",f:a,s:"v"},{n:"assigned",f:s,s:"v"},{n:"primitive",f:f,s:"v"},{n:"includes",f:q,s:"v"},{n:"zero",f:c},{n:"infinity",f:h},{n:"number",f:l},{n:"integer",f:p},{n:"even",f:y},{n:"odd",f:g},{n:"greater",f:v},{n:"less",f:w},{n:"between",f:_},{n:"greaterOrEqual",f:d},{n:"lessOrEqual",f:b},{n:"inRange",f:m},{n:"positive",f:E},{n:"negative",f:A},{n:"string",f:S,s:"s"},{n:"emptyString",f:I,s:"s"},{n:"nonEmptyString",f:k,s:"s"},{n:"contains",f:x,s:"s"},{n:"match",f:T,s:"s"},{n:"boolean",f:P,s:"b"},{n:"object",f:R,s:"o"},{n:"emptyObject",f:O,s:"o"},{n:"nonEmptyObject",f:M,s:"o"},{n:"instanceStrict",f:B,s:"t"},{n:"instance",f:U,s:"t"},{n:"like",f:j,s:"t"},{n:"array",f:C,s:"a"},{n:"emptyArray",f:L,s:"a"},{n:"nonEmptyArray",f:D,s:"a"},{n:"arrayLike",f:Y,s:"al"},{n:"iterable",f:N,s:"i"},{n:"date",f:F,s:"d"},{n:"function",f:V,s:"f"},{n:"hasLength",f:W,s:"l"}].map(function(t){var e=t.n;vt[e]="Invalid "+gt[t.s||"n"],wt[e]=t.f}),_t={apply:Z,map:z,all:X,any:Q},Et=["array","arrayLike","iterable","object"],At=Array.prototype.slice,St=Number.NEGATIVE_INFINITY,It=Number.POSITIVE_INFINITY,kt=Array.isArray,xt="function"==typeof Symbol,_t=$(_t,wt),dt=ft(tt,nt),bt=ft(rt,it),mt=ft(ot,ut),dt.not=ht(tt,bt),dt.maybe=ht(tt,mt),Et.forEach(lt),pt(dt,tt),pt(bt,rt),Et.forEach(yt),function(i){void 0!==(r=function(){return i}.call(e,n,e,t))&&(t.exports=r)}($(_t,{assert:dt,not:bt,maybe:mt}))}()},function(t,e,n){"use strict";var r=n(0).assert,i=function(t,e,n){return r.inRange(r.integer(t),e,n)},o=function(t,e){return i(t,0,e.length-1)},u=function(t){return i(t,0,15)},a=function(t){return i(t,0,255)},s=function(t){return i(t,-128,127)},f=function(t){return new Uint8Array(1).fill(s(t))[0]},c=function(t){return new Int8Array(1).fill(a(t))[0]},h=function(t){return r.hasLength(r.string(t),2),16*u(parseInt(t[0],16))+u(parseInt(t[1],16))},l=function(t){return c(h(t))};t.exports={checkRangedInt:i,checkArrayID:o,checkHex:u,checkUByte:a,checkSByte:s,convertUByte:f,convertSByte:c,parseUByte:h,parseSByte:l}},function(t,e,n){"use strict";t.exports={WAVE_SIZE:32,MEM_SIZE:4096}},function(t,e,n){"use strict";var r=n(14),i=n(12),o=n(9).Memory,u=n(7).Memory,a=n(13).Memory,s=n(10),f=n(11);t.exports={Processor:{init:r.init,connect:r.connect,disconnect:r.disconnect,play:r.play,stop:r.stop},Instrument:{init:i.init,getInst:i.getInst,getType:i.getType},Memory:{Waveform:{init:o.init,read:o.read,write:o.write},Oscillator:{init:u.init,read:u.read,write:u.write},Automation:{init:a.init,read:a.read,write:a.write}},Mixer:{reset:s.reset,getGain:s.getGain,setGain:s.setGain,setDecibel:s.setDecibel},Scheduler:{setTempo:f.setTempo,getTempo:f.getTempo,getPeriod:f.getPeriod,setFunc:f.setFunc}}},function(t,e,n){"use strict";t.exports={WAVE_SIZE:32,MEM_SIZE:256}},function(t,e,n){"use strict";var r=n(15),i=n(19),o=n(21),u=n(32),a=n(10),s=n(1),f=[],c="",h=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""){case"O":return new r;case"C":return new o;case"N":return new i}},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OOCN";f=t.split("").map(function(t){return h(t)}),c=f.map(function(t){return t.generatorType}).join(""),a.init(f.length)},p=function(){return c},y=function(t){return f[s.checkArrayID(t,f)]},g=function(t){return c[s.checkArrayID(t,c)]},v=function(t){var e=0,n=0;return f.map(function(r,i){var o=r.getHexSignal(t),s=a.getGain(i),f=r.getVol();e+=(u(o,f[0])-7.5)/7.5*s,n+=(u(o,f[1])-7.5)/7.5*s,r.processorClock(t)}),[e,n]};t.exports={init:l,getString:p,getGenerator:y,getType:g,voltage:v}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0).assert,u=n(1),a=u.checkHex,s=function(){function t(){r(this,t),this.freq=0,this.waveNum=0,this.isInv=0,this.volL=0,this.volR=0,this.isMute=!1}return i(t,[{key:"setFreq",value:function(t){Number.isFinite(t)&&t>=0&&(t>22050&&(t=22050),this.freq=t,this.setPeriod(32*t))}},{key:"setPeriod",value:function(t){var e=t/44100,n=Math.floor(e),r=e-n;this.repeat=n,this.period=Math.pow(r,-1)}},{key:"processorClock",value:function(t){for(var e=t%this.period<1,n=e?this.repeat+1:this.repeat,r=0;r<n;r++)this.sequencer.next()}},{key:"setInv",value:function(t){this.isInv=o.boolean(t)}},{key:"setVolL",value:function(t){this.volL=a(t)}},{key:"setVolR",value:function(t){this.volR=a(t)}},{key:"setMute",value:function(t){this.isMute=o.boolean(t)}},{key:"getVol",value:function(){return!0===this.isMute||0===this.freq?[0,0]:[this.volL,this.volR]}},{key:"getHexSignal",value:function(){var t=this.sequencer.read();return this.isInv?15-t:t}}]),t}();t.exports=s},function(t,e,n){"use strict";var r=n(16),i=n(18),o=n(4).WAVE_SIZE,u=n(4).MEM_SIZE;t.exports={Memory:r,Sequencer:i,WAVE_SIZE:o,MEM_SIZE:u}},function(t,e,n){"use strict";var r=function(t){return function(e){return e>=t?0:15}},i=function(t){return t<16?t:31-t},o=function(t){return Math.floor(t/2)};t.exports={pulse:r,triangle:i,sawtooth:o}},function(t,e,n){"use strict";var r=n(22),i=n(31),o=n(2).WAVE_SIZE,u=n(2).MEM_SIZE;t.exports={Memory:r,Sequencer:i,WAVE_SIZE:o,MEM_SIZE:u}},function(t,e,n){"use strict";var r=[],i=function(t){r=new Array(t).fill(.25)},o=function(){r.fill(.25)},u=function(t){return r[t]},a=function(t,e){r[t]=e},s=function(t,e){e>12&&(e=12),e<-12&&(e=-12),r[t]=.25*Math.pow(10,e/20)};t.exports={init:i,reset:o,getGain:u,setGain:a,setDecibel:s}},function(t,e,n){"use strict";var r=n(0).assert,i=n(12),o={tempo:125,period:882,customfunc:function(t){return null},executeInst:function(t){t%o.period<1&&i.getList().forEach(function(t){t.execute(),t.next()})}},u=function(t){return 60/t/24*44100},a=function(t){r.number(t),o.tempo=t,o.period=u(o.tempo)},s=function(){return o.tempo},f=function(){return o.period},c=function(t){o.customfunc=t},h=function(t){o.customfunc(t),o.executeInst(t)};t.exports={setTempo:a,getTempo:s,getPeriod:f,setFunc:c,execute:h}},function(t,e,n){"use strict";var r=n(0).assert,i=n(5),o=n(33),u=n(1),a=function(t){return u.checkArrayID(t,s)},s=[],f=null,c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OOCN";t=r.string(t).slice(0,256),i.init(t),f=i.getString(),s=Array.from(f).map(function(t,e){return new o(e)})},h=function(){return s},l=function(){return f},p=function(t){return s[a(t)]},y=function(t){return f[a(t)]};t.exports={init:c,getList:h,getString:l,getType:y,getInst:p}},function(t,e,n){"use strict";var r=n(34),i=n(36);t.exports={Memory:r,Sequencer:i}},function(t,e,n){"use strict";var r=n(5),i=n(11),o=void 0,u=function(t,e){o=t.createScriptProcessor(e,2,2)},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;o.connect(t)},s=function(){o.disconnect()},f=function(){var t=0,e=o.bufferSize;o.onaudioprocess=function(n){for(var o=[n.outputBuffer.getChannelData(0),n.outputBuffer.getChannelData(1)],u=0;u<e;u++){var a=r.voltage(t);o[0][u]=a[0],o[1][u]=a[1],i.execute(t),t++}}},c=function(){var t=o.bufferSize;o.onaudioprocess=function(e){for(var n=[e.outputBuffer.getChannelData(0),e.outputBuffer.getChannelData(1)],r=0;r<t;r++)n[0][r]=0,n[1][r]=0}};t.exports={init:u,connect:a,disconnect:s,play:f,stop:c}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(6),s=n(7),f=n(1),c=s.Memory,h=s.Sequencer,l=s.MEM_SIZE,p=function(t){return f.checkRangedInt(t,0,l-1)},y=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.generatorType="O",t.sequencer=new h(c.read(0)),t}return o(e,t),u(e,[{key:"setWaveform",value:function(t){this.waveNum=p(t),this.sequencer=new h(c.read(t))}}]),e}(a);t.exports=y},function(t,e,n){"use strict";var r=n(17),i=n(8),o=n(1),u=n(4).MEM_SIZE,a=function(t){return o.checkRangedInt(t,0,u-1)},s={},f=function(){s=new Array(64);for(var t=0;t<32;t++)s[t]=new r({func:i.pulse(t)});for(var e=32;e<47;e++)s[e]=new r({func:i.triangle});for(var n=48;n<63;n++)s[n]=new r({func:i.sawtooth})},c=function(t,e){s[a(t)]=new r(e)},h=function(t){return a(t),void 0===s[t]&&(s[t]=new r),s[t]};t.exports={init:f,write:c,read:h}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0).assert,u=n(8),a={name:"",func:u.pulse(4)},s=Symbol("func"),f=Symbol("name"),c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this[s]=function(){return 0},this.name=void 0===e.name?a.name:e.name,this.func=void 0===e.func?a.func:e.func}return i(t,[{key:"name",set:function(t){this[f]=o.string(t).slice(0,32)},get:function(){return this[f]}},{key:"func",set:function(t){this[s]=o.function(t)},get:function(){return this[s]}}]),t}();t.exports=c},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(4).WAVE_SIZE,u=Symbol("function"),a=Symbol("current"),s=function(){function t(e){r(this,t),this[u]=e.func,this[a]=0}return i(t,[{key:"init",value:function(){this[a]=0}},{key:"read",value:function(){return this[u](this[a])}},{key:"next",value:function(){return this[a]<o-1?this[a]+=1:this[a]=0}}]),t}();t.exports=s},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(6),s=n(20),f=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.generatorType="N",t.sequencer=new s,t}return o(e,t),u(e,[{key:"setFreq",value:function(t){Number.isFinite(t)&&t>0&&(this.freq=t,this.setPeriod(t))}},{key:"setWaveform",value:function(t){1===t?(this.sequencer.setMode(!0),this.waveNum=t):0===t&&(this.sequencer.setMode(!1),this.waveNum=t)}}]),e}(a);t.exports=f},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(){function t(){r(this,t),this.__mode=0,this.__tapB=1,this.__register=1}return i(t,[{key:"setMode",value:function(t){this.__mode=t,this.__tapB=t?6:1}},{key:"next",value:function(){var t=1&this.__register,e=this.__register>>this.__tapB&1,n=(t^e)<<14;this.__register>>=1,this.__register|=n}},{key:"read",value:function(){return this.__register>>11}}]),t}();t.exports=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=n(6),s=n(9),f=n(1),c=s.Memory,h=s.Sequencer,l=s.MEM_SIZE,p=function(t){return f.checkRangedInt(t,0,l-1)},y=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.generatorType="C",t.sequencer=new h(c.read(0)),t}return o(e,t),u(e,[{key:"setWaveform",value:function(t){this.waveNum=p(t),this.sequencer=new h(c.read(t))}}]),e}(a);t.exports=y},function(t,e,n){"use strict";var r=n(23),i=n(1),o=n(2).MEM_SIZE,u=function(t){return i.checkRangedInt(t,0,o-1)},a={},s=function(){a=new Array(0)},f=function(t,e){a[u(t)]=new r(e)},c=function(t){return u(t),void 0===a[t]&&(a[t]=new r),a[t]};t.exports={init:s,write:f,read:c}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0).assert,u=n(1),a=n(24),s=u.checkHex,f=n(2).WAVE_SIZE,c={name:"",list:new Array(f).fill(0)},h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.__list=new a(f),this.name=void 0===e.name?c.name:e.name,this.list=void 0===e.list?c.list:e.list}return i(t,[{key:"name",set:function(t){this.__name=o.string(t).slice(0,32)},get:function(){return this.__name}},{key:"list",set:function(t){o.equal(t.length,f),t.forEach(function(t){return s(t)}),this.__list.write(t)},get:function(){return this.__list.read()}}]),t}();t.exports=h},function(t,e,n){"use strict";(function(e){function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(30),a=n(0).assert,s=u.readUInt4LE,f=u.writeUInt4LE,c=function(t){return a.integer(a.positive(t))},h=new Error("This paramater can't be changed directly. please use init()"),l=function(){function t(e){i(this,t),this.init(e)}return o(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.__hexSize=c(t);var n=Math.ceil(this.__hexSize/2);this.__buffer=e.alloc(n)}},{key:"read",value:function(){var t=this;return[].concat(r(Array(this.length).keys())).map(function(e){return s(t.__buffer,e/2)})}},{key:"write",value:function(t){var e=this;a.equal(t.length,this.length),t.forEach(function(t,n){return f(e.__buffer,t,n/2)})}},{key:"length",get:function(){return this.__hexSize},set:function(t){throw h}},{key:"hexSize",get:function(){return this.__hexSize},set:function(t){throw h}},{key:"byteSize",get:function(){return this.__buffer.byteLength},set:function(t){throw h}}]),t}();t.exports=l}).call(e,n(25).Buffer)},function(t,e,n){"use strict";(function(t){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=o.prototype):(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,n){if(!(o.TYPED_ARRAY_SUPPORT||this instanceof o))return new o(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return f(this,t)}return u(this,t,e,n)}function u(t,e,n,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?l(t,e,n,r):"string"==typeof e?c(t,e,n):p(t,e)}function a(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function s(t,e,n,r){return a(e),e<=0?i(t,e):void 0!==n?"string"==typeof r?i(t,e).fill(n,r):i(t,e).fill(n):i(t,e)}function f(t,e){if(a(e),t=i(t,e<0?0:0|y(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function c(t,e,n){if("string"==typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|v(e,n);t=i(t,r);var u=t.write(e,n);return u!==r&&(t=t.slice(0,u)),t}function h(t,e){var n=e.length<0?0:0|y(e.length);t=i(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function l(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),o.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=o.prototype):t=h(t,e),t}function p(t,e){if(o.isBuffer(e)){var n=0|y(e.length);return t=i(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||X(e.length)?i(t,0):h(t,e);if("Buffer"===e.type&&Q(e.data))return h(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function g(t){return+t!=t&&(t=0),o.alloc(+t)}function v(t,e){if(o.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(r)return V(t).length;e=(""+e).toLowerCase(),r=!0}}function w(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return R(this,e,n);case"latin1":case"binary":return O(this,e,n);case"base64":return x(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function _(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function d(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=o.from(e,r)),o.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){function o(t,e){return 1===u?t[e]:t.readUInt16BE(e*u)}var u=1,a=t.length,s=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;u=2,a/=2,s/=2,n/=2}var f;if(i){var c=-1;for(f=n;f<a;f++)if(o(t,f)===o(e,-1===c?0:f-c)){if(-1===c&&(c=f),f-c+1===s)return c*u}else-1!==c&&(f-=f-c),c=-1}else for(n+s>a&&(n=a-s),f=n;f>=0;f--){for(var h=!0,l=0;l<s;l++)if(o(t,f+l)!==o(e,l)){h=!1;break}if(h)return f}return-1}function m(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var u=0;u<r;++u){var a=parseInt(e.substr(2*u,2),16);if(isNaN(a))return u;t[n+u]=a}return u}function E(t,e,n,r){return H(V(e,t.length-n),t,n,r)}function A(t,e,n,r){return H(Z(e),t,n,r)}function S(t,e,n,r){return A(t,e,n,r)}function I(t,e,n,r){return H(G(e),t,n,r)}function k(t,e,n,r){return H(z(e,t.length-n),t,n,r)}function x(t,e,n){return 0===e&&n===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],u=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=n){var s,f,c,h;switch(a){case 1:o<128&&(u=o);break;case 2:s=t[i+1],128==(192&s)&&(h=(31&o)<<6|63&s)>127&&(u=h);break;case 3:s=t[i+1],f=t[i+2],128==(192&s)&&128==(192&f)&&(h=(15&o)<<12|(63&s)<<6|63&f)>2047&&(h<55296||h>57343)&&(u=h);break;case 4:s=t[i+1],f=t[i+2],c=t[i+3],128==(192&s)&&128==(192&f)&&128==(192&c)&&(h=(15&o)<<18|(63&s)<<12|(63&f)<<6|63&c)>65535&&h<1114112&&(u=h)}}null===u?(u=65533,a=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=a}return P(r)}function P(t){var e=t.length;if(e<=$)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=$));return n}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function O(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function M(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=F(t[o]);return i}function B(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function U(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,n,r,i,u){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<u)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function C(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function D(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function Y(t,e,n,r,i){return i||D(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(t,e,n,r,23,4),n+4}function N(t,e,n,r,i){return i||D(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(t,e,n,r,52,8),n+8}function q(t){if(t=W(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function W(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function F(t){return t<16?"0"+t.toString(16):t.toString(16)}function V(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],u=0;u<r;++u){if((n=t.charCodeAt(u))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(u+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function Z(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function z(t,e){for(var n,r,i,o=[],u=0;u<t.length&&!((e-=2)<0);++u)n=t.charCodeAt(u),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function G(t){return J.toByteArray(q(t))}function H(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function X(t){return t!==t}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var J=n(27),K=n(28),Q=n(29);e.Buffer=o,e.SlowBuffer=g,e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,n){return u(null,t,e,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,n){return s(null,t,e,n)},o.allocUnsafe=function(t){return f(null,t)},o.allocUnsafeSlow=function(t){return f(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,u=Math.min(n,r);i<u;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!Q(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=o.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var u=t[n];if(!o.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(r,i),i+=u.length}return r},o.byteLength=v,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?T(this,0,t):w.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,n,r,i){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var u=i-r,a=n-e,s=Math.min(u,a),f=this.slice(r,i),c=t.slice(e,n),h=0;h<s;++h)if(f[h]!==c[h]){u=f[h],a=c[h];break}return u<a?-1:a<u?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return d(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return d(this,t,e,n,!1)},o.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return m(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":return A(this,t,e,n);case"latin1":case"binary":return S(this,t,e,n);case"base64":return I(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;o.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=o.prototype;else{var i=e-t;r=new o(i,void 0);for(var u=0;u<i;++u)r[u]=this[u+t]}return r},o.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||U(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},o.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||U(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},o.prototype.readUInt8=function(t,e){return e||U(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||U(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||U(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||U(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||U(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||U(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},o.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||U(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||U(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||U(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||U(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||U(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||U(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||U(t,4,this.length),K.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||U(t,4,this.length),K.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||U(t,8,this.length),K.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||U(t,8,this.length),K.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){j(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){j(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):C(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):C(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):L(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);j(this,t,e,n,i-1,-i)}var o=0,u=1,a=0;for(this[e]=255&t;++o<n&&(u*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/u>>0)-a&255;return e+n},o.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);j(this,t,e,n,i-1,-i)}var o=n-1,u=1,a=0;for(this[e+o]=255&t;--o>=0&&(u*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/u>>0)-a&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):C(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):C(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):L(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):L(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return Y(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return Y(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return N(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return N(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,u=r-n;if(this===t&&n<e&&e<r)for(i=u-1;i>=0;--i)t[i+e]=this[i+n];else if(u<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<u;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+u),e);return u},o.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var u;if("number"==typeof t)for(u=e;u<n;++u)this[u]=t;else{var a=o.isBuffer(t)?t:V(new o(t,r).toString()),s=a.length;for(u=0;u<n-e;++u)this[u+e]=a[u%s]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(26))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return 3*t.length/4-r(t)}function o(t){var e,n,i,o,u,a=t.length;o=r(t),u=new h(3*a/4-o),n=o>0?a-4:a;var s=0;for(e=0;e<n;e+=4)i=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],u[s++]=i>>16&255,u[s++]=i>>8&255,u[s++]=255&i;return 2===o?(i=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,u[s++]=255&i):1===o&&(i=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,u[s++]=i>>8&255,u[s++]=255&i),u}function u(t){return f[t>>18&63]+f[t>>12&63]+f[t>>6&63]+f[63&t]}function a(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(u(r));return i.join("")}function s(t){for(var e,n=t.length,r=n%3,i="",o=[],u=0,s=n-r;u<s;u+=16383)o.push(a(t,u,u+16383>s?s:u+16383));return 1===r?(e=t[n-1],i+=f[e>>2],i+=f[e<<4&63],i+="=="):2===r&&(e=(t[n-2]<<8)+t[n-1],i+=f[e>>10],i+=f[e>>4&63],i+=f[e<<2&63],i+="="),o.push(i),o.join("")}e.byteLength=i,e.toByteArray=o,e.fromByteArray=s;for(var f=[],c=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,y=l.length;p<y;++p)f[p]=l[p],c[l.charCodeAt(p)]=p;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,u,a=8*i-r-1,s=(1<<a)-1,f=s>>1,c=-7,h=n?i-1:0,l=n?-1:1,p=t[e+h];for(h+=l,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=l,c-=8);for(u=o&(1<<-c)-1,o>>=-c,c+=r;c>0;u=256*u+t[e+h],h+=l,c-=8);if(0===o)o=1-f;else{if(o===s)return u?NaN:1/0*(p?-1:1);u+=Math.pow(2,r),o-=f}return(p?-1:1)*u*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var u,a,s,f=8*o-i-1,c=(1<<f)-1,h=c>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,y=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,u=c):(u=Math.floor(Math.log(e)/Math.LN2),e*(s=Math.pow(2,-u))<1&&(u--,s*=2),e+=u+h>=1?l/s:l*Math.pow(2,1-h),e*s>=2&&(u++,s/=2),u+h>=c?(a=0,u=c):u+h>=1?(a=(e*s-1)*Math.pow(2,i),u+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),u=0));i>=8;t[n+p]=255&a,p+=y,a/=256,i-=8);for(u=u<<i|a,f+=i;f>0;t[n+p]=255&u,p+=y,u/=256,f-=8);t[n+p-y]|=128*g}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e){var n=function(t,e){return e%1?15&t.readUInt8(Math.floor(e)):t.readUInt8(e)>>4},r=function(t,e,r){if(e>=16)throw new Error("value is out of bounds");var i=Math.floor(r);r%1?t.writeUInt8(n(t,i)<<4|e,i):t.writeUInt8(e<<4|n(t,r),i)},i=function(t,e){return e%1?t.readUInt8(Math.floor(e))>>4:15&t.readUInt8(e)},o=function(t,e,n){if(e>=16)throw new Error("value is out of bounds");var r=Math.floor(n);n%1?t.writeUInt8(e<<4|i(t,Math.floor(n)),r):t.writeUInt8(i(t,r)<<4|e,r)};t.exports.read=n,t.exports.readUInt4=n,t.exports.write=r,t.exports.writeUInt4=r,t.exports.readUInt4BE=n,t.exports.writeUInt4BE=r,t.exports.readUInt4LE=i,t.exports.writeUInt4LE=o},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(2).WAVE_SIZE,u=Symbol("list"),a=Symbol("current"),s=function(){function t(e){r(this,t),this[u]=e.list,this[a]=0}return i(t,[{key:"init",value:function(){this[a]=0}},{key:"read",value:function(){return this[u][this[a]]}},{key:"next",value:function(){return this[a]<o-1?this[a]+=1:this[a]=0}}]),t}();t.exports=s},function(t,e,n){"use strict";for(var r=new Array(16),i=0;i<16;i++){r[i]=new Array(16);for(var o=0;o<16;o++){var u=i*o/15,a=(15-o)/2;r[i][o]=u+a}}t.exports=function(t,e){try{return r[t][e]}catch(n){throw n.message="Invalid Input: [Signal: "+t+" / Amp: "+e+"]",n}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0).assert,u=n(5),a=n(13),s=n(37),f=n(1),c=n(40),h=function(t){return o.match(o.hasLength(t,1),"[ADEWw]")},l=f.checkHex,p=f.checkUByte,y=f.convertSByte,g=function(){function t(e){r(this,t),this.__id=f.checkArrayID(e,u.getString()),this.__type=u.getType(this.__id),this.__generator=u.getGenerator(this.__id),this.__note="---",this.__inv=!1,this.__volL=0,this.__volR=0,this.__tuneType=0,this.__automation={A:new a.Sequencer,D:new a.Sequencer,E:new a.Sequencer,W:new a.Sequencer,w:new a.Sequencer},this.__automationID={},this.setAutomation("A",0),this.setAutomation("D",0),this.setAutomation("E",0),this.setAutomation("W",0),this.setAutomation("w",0)}return i(t,[{key:"__readAutomation",value:function(t){return this.__automation[h(t)].read()}},{key:"__readPitch",value:function(){var t=this.__note;if("---"===t)return 0;o.string(t),o.hasLength(t,3);var e=y(this.__readAutomation("A")),n=y(this.__readAutomation("D")),r=this.__tuneType;return s.getFreq(r,t,e,n)}},{key:"__readEnvelope",value:function(){if("---"===this.note)return 0;var t=this.__readAutomation("E"),e=Math.floor(t/16),n=t%16,r=this.__volL,i=this.__volR;return{L:c(r,e),R:c(i,n)}}},{key:"__readWaveNumber",value:function(){var t=this.__readAutomation("W"),e=y(this.__readAutomation("w"));if("C"===this.__type){var n=16*t+e;return n<0?n+4096:n}return t}},{key:"setNote",value:function(t){switch(o.string(t),o.hasLength(t,3),t){case"   ":case"___":break;case"===":this.release();break;case"---":default:this.__note=t,this.__automation.A.init(),this.__automation.D.init()}}},{key:"setVol",value:function(t,e){try{this.__volL=l(t)}catch(t){}try{this.__volR=l(e)}catch(t){}this.__automation.E.init(),this.__automation.W.init(),this.__automation.w.init()}},{key:"setInst",value:function(t){this.inst=p(t),this.__automation.A.init(),this.__automation.D.init(),this.__automation.E.init(),this.__automation.W.init(),this.__automation.w.init()}},{key:"setTuneType",value:function(t){this.__tuneType=l(t)}},{key:"setAutomation",value:function(t,e){p(e),h(t),this.__automation[t]=new a.Sequencer(a.Memory.read(t,e)),this.__automationID[t]=e,"E"!==t&&"W"!==t&&"w"!==t||(this.__automation.E.init(),this.__automation.W.init(),this.__automation.w.init()),"A"!==t&&"D"!==t||(this.__automation.A.init(),this.__automation.D.init())}},{key:"execute",value:function(){this.__generator.setFreq(this.__readPitch()),this.__generator.setWaveform(this.__readWaveNumber()),this.__generator.setInv(this.__inv),this.__generator.setVolL(this.__readEnvelope().L),this.__generator.setVolR(this.__readEnvelope().R)}},{key:"release",value:function(){this.__automation.A.release(),this.__automation.D.release(),this.__automation.E.release(),this.__automation.W.release(),this.__automation.w.release()}},{key:"next",value:function(){this.__automation.A.next(),this.__automation.D.next(),this.__automation.E.next(),this.__automation.W.next(),this.__automation.w.next()}}]),t}();t.exports=g},function(t,e,n){"use strict";var r=n(0).assert,i=n(35),o=n(1),u=function(t){return o.checkRangedInt(t,0,255)},a=function(t){return r.match(r.hasLength(t,1),"[ADEWw]")},s={},f=function(){s.A=new Array(0),s.D=new Array(0),s.E=new Array(0),s.W=new Array(0),s.w=new Array(0)},c=function(t,e){return a(t),u(e),void 0===s[t][e]&&(s[t][e]=new i),s[t][e]},h=function(t,e,n){var o=new i(n);a(t),u(e),r.like(o,new i),s[t][e]=o};t.exports={init:f,read:c,write:h}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0).assert,u=n(1),a={name:"",list:[0],loopstart:-1,loopend:-1},s=u.checkUByte,f=u.checkArrayID,c=Symbol("name"),h=Symbol("list"),l=Symbol("loopstart"),p=Symbol("loopend"),y=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.name=void 0===e.name?a.name:e.name,this.list=void 0===e.list?a.list:e.list,this.loopstart=void 0===e.loopstart?a.loopstart:e.loopstart,this.loopend=void 0===e.loopend?a.loopend:e.loopend}return i(t,[{key:"name",set:function(t){this[c]=o.string(t).slice(0,32)},get:function(){return this[c]}},{key:"list",set:function(t){this[h]=t.map(function(t){return s(t)})},get:function(){return this[h]}},{key:"loopstart",set:function(t){try{this[l]=f(t,this[h])}catch(e){if(-1!==t)throw e;this[l]=t}},get:function(){return this[l]}},{key:"loopend",set:function(t){try{this[p]=f(t,this[h])}catch(e){if(-1!==t)throw e;this[p]=t}},get:function(){return this[p]}}]),t}();t.exports=y},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=Symbol("list"),u=Symbol("loopstart"),a=Symbol("loopend"),s=Symbol("current"),f=Symbol("released"),c=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"",list:[0],loopstart:-1,loopend:-1};r(this,t),this[o]=e.list,this[u]=e.loopstart,this[a]=e.loopend,this[s]=0,this[f]=!1}return i(t,[{key:"init",value:function(){this[s]=0,this[f]=!1}},{key:"read",value:function(){return this[o][this[s]]}},{key:"next",value:function(){var t=this[u]>=0,e=this[a]>=0&&this[a]>=this[u],n=!this[f],r=e&&n?this[a]:this[o].length-1,i=t&&n?this[u]:r;return this[s]<r?this[s]+=1:this[s]=i}},{key:"release",value:function(){this[f]=!0}}]),t}();t.exports=c},function(t,e,n){"use strict";var r=n(38),i=n(39),o=new Array(16);o[0]=r,o[1]=i;var u=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return o[t](e,n,r)},a=function(t,e){o[t]=e};t.exports={getFreq:u,setTune:a}},function(t,e,n){"use strict";var r=Object.freeze({C:0,D:200,E:400,F:500,G:700,A:900,B:1100,c:0,d:200,e:400,f:500,g:700,a:900,b:1100}),i=Object.freeze({"#":100,"+":100,b:-100,"-":-100," ":0}),o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return r[t[0]]+i[t[1]]+1200*(parseInt(t[2])+1)+100*e+n},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=o(t,e,n),i=(r-6900)/1200;return 440*Math.pow(2,i)};t.exports=u},function(t,e,n){"use strict";var r=n(0).assert,i=function(t){var e=r.integer(t),n=r.inRange(t,0,15);return e&&n},o=function(t){var e=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),n=parseInt(t[0],16),r=parseInt(t[1],16);i(n),i(r);var o=15-n,u=7-r%8;0===u&&(u=.5);var a=1/u*524288*Math.pow(2,-(o+1))*Math.pow(2,e/1200);return a>1048576?1048576:a};t.exports=o},function(t,e,n){"use strict";for(var r=new Array(16),i=0;i<16;i++){r[i]=new Uint8Array(16);for(var o=0;o<16;o++)if(0===i||0===o)r[i][o]=0;else{var u=Math.floor(i*o/15);r[i][o]=u>1?u:1}}t.exports=function(t,e){try{return r[t][e]}catch(n){throw n.message="Invalid Input: ["+t+", "+e+"]",n}}}])});