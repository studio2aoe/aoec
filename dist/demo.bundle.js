!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.demo=n():t.demo=n()}("undefined"!=typeof self?self:this,function(){return function(t){function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var e={};return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=34)}([function(t,n,e){"use strict";var r=e(1).assert,o=function(t,n,e){return r.inRange(r.integer(t),n,e)},i=function(t,n){return o(t,0,n.length-1)},u=function(t){return o(t,0,15)},a=function(t){return o(t,0,255)},s=function(t){return o(t,-128,127)},c=function(t){return new Uint8Array(1).fill(s(t))[0]},f=function(t){return new Int8Array(1).fill(a(t))[0]},l=function(t){return r.hasLength(r.string(t),2),16*u(parseInt(t[0],16))+u(parseInt(t[1],16))},h=function(t){return f(l(t))};t.exports={checkRangedInt:o,checkArrayID:i,checkHex:u,checkUByte:a,checkSByte:s,convertUByte:c,convertSByte:f,parseUByte:l,parseSByte:h}},function(t,n,e){var r;!function(o){"use strict";function i(t,n){return t===n}function u(t){return void 0===t}function a(t){return null===t}function s(t){return void 0!==t&&null!==t}function c(t){var n;switch(t){case null:case void 0:case!1:case!0:return!0}return"string"===(n=typeof t)||"number"===n||St&&"symbol"===n}function f(t){return 0===t}function l(t){return t===At||t===xt}function h(t){return"number"==typeof t&&t>At&&t<xt}function p(t){return"number"==typeof t&&t%1==0}function y(t){return"number"==typeof t&&t%2==0}function v(t){return p(t)&&t%2!=0}function m(t,n){return h(t)&&t>n}function _(t,n){return h(t)&&t<n}function b(t,n,e){return n<e?m(t,n)&&t<e:_(t,n)&&t>e}function g(t,n){return h(t)&&t>=n}function d(t,n){return h(t)&&t<=n}function w(t,n,e){return n<e?g(t,n)&&t<=e:d(t,n)&&t>=e}function k(t){return m(t,0)}function E(t){return _(t,0)}function A(t){return"string"==typeof t}function x(t){return""===t}function I(t){return A(t)&&""!==t}function S(t,n){return A(t)&&-1!==t.indexOf(n)}function O(t,n){return A(t)&&!!t.match(n)}function j(t){return!1===t||!0===t}function M(t){return"[object Object]"===Object.prototype.toString.call(t)}function T(t){return M(t)&&0===Object.keys(t).length}function P(t){return M(t)&&Object.keys(t).length>0}function W(t,n){try{return t instanceof n}catch(t){return!1}}function q(t,n){try{return W(t,n)||t.constructor.name===n.name||Object.prototype.toString.call(t)==="[object "+n.name+"]"}catch(t){return!1}}function D(t,n){var e;for(e in n)if(n.hasOwnProperty(e)){if(!1===t.hasOwnProperty(e)||typeof t[e]!=typeof n[e])return!1;if(M(t[e])&&!1===D(t[e],n[e]))return!1}return!0}function N(t){return It(t)}function C(t){return N(t)&&0===t.length}function V(t){return N(t)&&m(t.length,0)}function R(t){return s(t)&&g(t.length,0)}function L(t){return St?s(t)&&G(t[Symbol.iterator]):R(t)}function B(t,n){var e,r,o,i,u;if(!s(t))return!1;if(St&&t[Symbol.iterator]&&G(t.values)){e=t.values();do{if(r=e.next(),r.value===n)return!0}while(!r.done);return!1}for(o=Object.keys(t),i=o.length,u=0;u<i;++u)if(t[o[u]]===n)return!0;return!1}function Z(t,n){return s(t)&&t.length===n}function F(t){return W(t,Date)&&p(t.getTime())}function G(t){return"function"==typeof t}function U(t,n){return gt.array(t),G(n)?t.map(function(t){return n(t)}):(gt.array(n),gt.hasLength(t,n.length),t.map(function(t,e){return n[e](t)}))}function H(t,n){return gt.object(t),G(n)?z(t,n):(gt.object(n),Y(t,n))}function z(t,n){var e={};return Object.keys(t).forEach(function(r){e[r]=n(t[r])}),e}function Y(t,n){var e={};return Object.keys(n).forEach(function(r){var o=n[r];G(o)?dt.assigned(t)?e[r]=!!o.m:e[r]=o(t[r]):M(o)&&(e[r]=Y(t[r],o))}),e}function J(t){return N(t)?K(t,!1):(gt.object(t),Q(t,!1))}function K(t,n){var e;for(e=0;e<t.length;e+=1)if(t[e]===n)return n;return!n}function Q(t,n){var e,r;for(e in t)if(t.hasOwnProperty(e)){if(r=t[e],M(r)&&Q(r,n)===n)return n;if(r===n)return n}return!n}function X(t){return N(t)?K(t,!0):(gt.object(t),Q(t,!0))}function $(t,n){return Object.keys(n).forEach(function(e){t[e]=n[e]}),t}function tt(t,n){return function(){return nt(t,arguments,n)}}function nt(t,n,e){var r=t.l||t.length,o=n[r],i=n[r+1];return et(t.apply(null,n),I(o)?o:e,G(i)?i:TypeError),n[0]}function et(t,n,e){if(t)return t;throw new(e||Error)(n||"Assertion failed")}function rt(t){var n=function(){return ot(t.apply(null,arguments))};return n.l=t.length,n}function ot(t){return!t}function it(t){var n=function(){return!!dt.assigned(arguments[0])||t.apply(null,arguments)};return n.l=t.length,n.m=!0,n}function ut(t){return!1===s(t)||t}function at(t,n,e){var r=function(){var r,o;if(r=arguments[0],"maybe"===t&&dt.assigned(r))return!0;if(!n(r))return!1;r=st(n,r),o=Et.call(arguments,1);try{r.forEach(function(n){if(("maybe"!==t||s(n))&&!e.apply(null,[n].concat(o)))throw 0})}catch(t){return!1}return!0};return r.l=e.length,r}function st(t,n){switch(t){case R:return Et.call(n);case M:return Object.keys(n).map(function(t){return n[t]});default:return n}}function ct(t,n){return ft([t,_t,n])}function ft(t){var n,e,r,o;return n=t.shift(),e=t.pop(),r=t.pop(),o=e||{},Object.keys(r).forEach(function(e){Object.defineProperty(o,e,{configurable:!1,enumerable:!0,writable:!1,value:n.apply(null,t.concat(r[e],mt[e]))})}),o}function lt(t,n){return ft([t,n,null])}function ht(t){_t[t].of=ft([at.bind(null,null),_t[t],_t,null])}function pt(t,n){kt.forEach(function(e){t[e].of=lt(n,_t[e].of)})}function yt(t){wt[t].of=ft([at.bind(null,"maybe"),_t[t],_t,null]),gt.maybe[t].of=lt(tt,wt[t].of),gt.not[t].of=lt(tt,dt[t].of)}var vt,mt,_t,bt,gt,dt,wt,kt,Et,At,xt,It,St;vt={v:"value",n:"number",s:"string",b:"boolean",o:"object",t:"type",a:"array",al:"array-like",i:"iterable",d:"date",f:"function",l:"length"},mt={},_t={},[{n:"equal",f:i,s:"v"},{n:"undefined",f:u,s:"v"},{n:"null",f:a,s:"v"},{n:"assigned",f:s,s:"v"},{n:"primitive",f:c,s:"v"},{n:"includes",f:B,s:"v"},{n:"zero",f:f},{n:"infinity",f:l},{n:"number",f:h},{n:"integer",f:p},{n:"even",f:y},{n:"odd",f:v},{n:"greater",f:m},{n:"less",f:_},{n:"between",f:b},{n:"greaterOrEqual",f:g},{n:"lessOrEqual",f:d},{n:"inRange",f:w},{n:"positive",f:k},{n:"negative",f:E},{n:"string",f:A,s:"s"},{n:"emptyString",f:x,s:"s"},{n:"nonEmptyString",f:I,s:"s"},{n:"contains",f:S,s:"s"},{n:"match",f:O,s:"s"},{n:"boolean",f:j,s:"b"},{n:"object",f:M,s:"o"},{n:"emptyObject",f:T,s:"o"},{n:"nonEmptyObject",f:P,s:"o"},{n:"instanceStrict",f:W,s:"t"},{n:"instance",f:q,s:"t"},{n:"like",f:D,s:"t"},{n:"array",f:N,s:"a"},{n:"emptyArray",f:C,s:"a"},{n:"nonEmptyArray",f:V,s:"a"},{n:"arrayLike",f:R,s:"al"},{n:"iterable",f:L,s:"i"},{n:"date",f:F,s:"d"},{n:"function",f:G,s:"f"},{n:"hasLength",f:Z,s:"l"}].map(function(t){var n=t.n;mt[n]="Invalid "+vt[t.s||"n"],_t[n]=t.f}),bt={apply:U,map:H,all:J,any:X},kt=["array","arrayLike","iterable","object"],Et=Array.prototype.slice,At=Number.NEGATIVE_INFINITY,xt=Number.POSITIVE_INFINITY,It=Array.isArray,St="function"==typeof Symbol,bt=$(bt,_t),gt=ct(tt,et),dt=ct(rt,ot),wt=ct(it,ut),gt.not=lt(tt,dt),gt.maybe=lt(tt,wt),kt.forEach(ht),pt(gt,tt),pt(dt,rt),kt.forEach(yt),function(o){void 0!==(r=function(){return o}.call(n,e,n,t))&&(t.exports=r)}($(bt,{assert:gt,not:dt,maybe:wt}))}()},function(t,n,e){"use strict";t.exports={WAVE_SIZE:32,MEM_SIZE:4096}},function(t,n,e){"use strict";var r=e(14),o=e(12),i=e(9).Memory,u=e(7).Memory,a=e(13).Memory,s=e(10),c=e(11);t.exports={Processor:{init:r.init,connect:r.connect,disconnect:r.disconnect,play:r.play,stop:r.stop},Instrument:{init:o.init,getInst:o.getInst,getType:o.getType},Memory:{Waveform:{init:i.init,read:i.read,write:i.write},Oscillator:{init:u.init,read:u.read,write:u.write},Automation:{init:a.init,read:a.read,write:a.write}},Mixer:{reset:s.reset,getGain:s.getGain,setGain:s.setGain,setDecibel:s.setDecibel},Scheduler:{setTempo:c.setTempo,getTempo:c.getTempo,getPeriod:c.getPeriod,setFunc:c.setFunc}}},function(t,n,e){"use strict";t.exports={WAVE_SIZE:32,MEM_SIZE:256}},function(t,n,e){"use strict";var r=e(15),o=e(19),i=e(21),u=e(25),a=e(10),s=e(0),c=[],f="",l=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:""){case"O":return new r;case"C":return new i;case"N":return new o}},h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OOCN";c=t.split("").map(function(t){return l(t)}),f=c.map(function(t){return t.generatorType}).join(""),a.init(c.length)},p=function(){return f},y=function(t){return c[s.checkArrayID(t,c)]},v=function(t){return f[s.checkArrayID(t,f)]},m=function(t){var n=0,e=0;return c.map(function(r,o){var i=r.getHexSignal(t),s=a.getGain(o),c=r.getVol();n+=(u(i,c[0])-7.5)/7.5*s,e+=(u(i,c[1])-7.5)/7.5*s,r.processorClock(t)}),[n,e]};t.exports={init:h,getString:p,getGenerator:y,getType:v,voltage:m}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=e(1).assert,u=e(0),a=u.checkHex,s=function(){function t(){r(this,t),this.freq=0,this.waveNum=0,this.isInv=0,this.volL=0,this.volR=0,this.isMute=!1}return o(t,[{key:"setFreq",value:function(t){Number.isFinite(t)&&t>=0&&(t>22050&&(t=22050),this.freq=t,this.setPeriod(32*t))}},{key:"setPeriod",value:function(t){var n=t/44100,e=Math.floor(n),r=n-e;this.repeat=e,this.period=Math.pow(r,-1)}},{key:"processorClock",value:function(t){for(var n=t%this.period<1,e=n?this.repeat+1:this.repeat,r=0;r<e;r++)this.sequencer.next()}},{key:"setInv",value:function(t){this.isInv=i.boolean(t)}},{key:"setVolL",value:function(t){this.volL=a(t)}},{key:"setVolR",value:function(t){this.volR=a(t)}},{key:"setMute",value:function(t){this.isMute=i.boolean(t)}},{key:"getVol",value:function(){return!0===this.isMute||0===this.freq?[0,0]:[this.volL,this.volR]}},{key:"getHexSignal",value:function(){var t=this.sequencer.read();return this.isInv?15-t:t}}]),t}();t.exports=s},function(t,n,e){"use strict";var r=e(16),o=e(18),i=e(4).WAVE_SIZE,u=e(4).MEM_SIZE;t.exports={Memory:r,Sequencer:o,WAVE_SIZE:i,MEM_SIZE:u}},function(t,n,e){"use strict";var r=function(t){return function(n){return n>=t?0:15}},o=function(t){return t<16?t:31-t},i=function(t){return Math.floor(t/2)};t.exports={pulse:r,triangle:o,sawtooth:i}},function(t,n,e){"use strict";var r=e(22),o=e(24),i=e(2).WAVE_SIZE,u=e(2).MEM_SIZE;t.exports={Memory:r,Sequencer:o,WAVE_SIZE:i,MEM_SIZE:u}},function(t,n,e){"use strict";var r=[],o=function(t){r=new Array(t).fill(.25)},i=function(){r.fill(.25)},u=function(t){return r[t]},a=function(t,n){r[t]=n},s=function(t,n){n>12&&(n=12),n<-12&&(n=-12),r[t]=.25*Math.pow(10,n/20)};t.exports={init:o,reset:i,getGain:u,setGain:a,setDecibel:s}},function(t,n,e){"use strict";var r=e(1).assert,o=e(12),i={tempo:125,period:882,customfunc:function(t){return null},executeInst:function(t){t%i.period<1&&o.getList().forEach(function(t){t.execute(),t.next()})}},u=function(t){return 60/t/24*44100},a=function(t){r.number(t),i.tempo=t,i.period=u(i.tempo)},s=function(){return i.tempo},c=function(){return i.period},f=function(t){i.customfunc=t},l=function(t){i.customfunc(t),i.executeInst(t)};t.exports={setTempo:a,getTempo:s,getPeriod:c,setFunc:f,execute:l}},function(t,n,e){"use strict";var r=e(1).assert,o=e(5),i=e(26),u=e(0),a=function(t){return u.checkArrayID(t,s)},s=[],c=null,f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OOCN";t=r.string(t).slice(0,256),o.init(t),c=o.getString(),s=Array.from(c).map(function(t,n){return new i(n)})},l=function(){return s},h=function(){return c},p=function(t){return s[a(t)]},y=function(t){return c[a(t)]};t.exports={init:f,getList:l,getString:h,getType:y,getInst:p}},function(t,n,e){"use strict";var r=e(27),o=e(29);t.exports={Memory:r,Sequencer:o}},function(t,n,e){"use strict";var r=e(5),o=e(11),i=void 0,u=function(t,n){i=t.createScriptProcessor(n,2,2)},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;i.connect(t)},s=function(){i.disconnect()},c=function(){var t=0,n=i.bufferSize;i.onaudioprocess=function(e){for(var i=[e.outputBuffer.getChannelData(0),e.outputBuffer.getChannelData(1)],u=0;u<n;u++){var a=r.voltage(t);i[0][u]=a[0],i[1][u]=a[1],o.execute(t),t++}}},f=function(){var t=i.bufferSize;i.onaudioprocess=function(n){for(var e=[n.outputBuffer.getChannelData(0),n.outputBuffer.getChannelData(1)],r=0;r<t;r++)e[0][r]=0,e[1][r]=0}};t.exports={init:u,connect:a,disconnect:s,play:c,stop:f}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function i(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=e(6),s=e(7),c=e(0),f=s.Memory,l=s.Sequencer,h=s.MEM_SIZE,p=function(t){return c.checkRangedInt(t,0,h-1)},y=function(t){function n(){r(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.generatorType="O",t.sequencer=new l(f.read(0)),t}return i(n,t),u(n,[{key:"setWaveform",value:function(t){this.waveNum=p(t),this.sequencer=new l(f.read(t))}}]),n}(a);t.exports=y},function(t,n,e){"use strict";var r=e(17),o=e(8),i=e(0),u=e(4).MEM_SIZE,a=function(t){return i.checkRangedInt(t,0,u-1)},s={},c=function(){s=new Array(64);for(var t=0;t<32;t++)s[t]=new r({func:o.pulse(t)});for(var n=32;n<47;n++)s[n]=new r({func:o.triangle});for(var e=48;e<63;e++)s[e]=new r({func:o.sawtooth})},f=function(t,n){s[a(t)]=new r(n)},l=function(t){return a(t),void 0===s[t]&&(s[t]=new r),s[t]};t.exports={init:c,write:f,read:l}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=e(1).assert,u=e(8),a={name:"",func:u.pulse(4)},s=Symbol("func"),c=Symbol("name"),f=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this[s]=function(){return 0},this.name=void 0===n.name?a.name:n.name,this.func=void 0===n.func?a.func:n.func}return o(t,[{key:"name",set:function(t){this[c]=i.string(t).slice(0,32)},get:function(){return this[c]}},{key:"func",set:function(t){this[s]=i.function(t)},get:function(){return this[s]}}]),t}();t.exports=f},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=e(4).WAVE_SIZE,u=Symbol("function"),a=Symbol("current"),s=function(){function t(n){r(this,t),this[u]=n.func,this[a]=0}return o(t,[{key:"init",value:function(){this[a]=0}},{key:"read",value:function(){return this[u](this[a])}},{key:"next",value:function(){return this[a]<i-1?this[a]+=1:this[a]=0}}]),t}();t.exports=s},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function i(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=e(6),s=e(20),c=function(t){function n(){r(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.generatorType="N",t.sequencer=new s,t}return i(n,t),u(n,[{key:"setFreq",value:function(t){Number.isFinite(t)&&t>0&&(this.freq=t,this.setPeriod(t))}},{key:"setWaveform",value:function(t){1===t?(this.sequencer.setMode(!0),this.waveNum=t):0===t&&(this.sequencer.setMode(!1),this.waveNum=t)}}]),n}(a);t.exports=c},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=function(){function t(){r(this,t),this.__mode=0,this.__tapB=1,this.__register=1}return o(t,[{key:"setMode",value:function(t){this.__mode=t,this.__tapB=t?6:1}},{key:"next",value:function(){var t=1&this.__register,n=this.__register>>this.__tapB&1,e=(t^n)<<14;this.__register>>=1,this.__register|=e}},{key:"read",value:function(){return this.__register>>11}}]),t}();t.exports=i},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function i(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var u=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=e(6),s=e(9),c=e(0),f=s.Memory,l=s.Sequencer,h=s.MEM_SIZE,p=function(t){return c.checkRangedInt(t,0,h-1)},y=function(t){function n(){r(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.generatorType="C",t.sequencer=new l(f.read(0)),t}return i(n,t),u(n,[{key:"setWaveform",value:function(t){this.waveNum=p(t),this.sequencer=new l(f.read(t))}}]),n}(a);t.exports=y},function(t,n,e){"use strict";var r=e(23),o=e(0),i=e(2).MEM_SIZE,u=function(t){return o.checkRangedInt(t,0,i-1)},a={},s=function(){a=new Array(0)},c=function(t,n){a[u(t)]=new r(n)},f=function(t){return u(t),void 0===a[t]&&(a[t]=new r),a[t]};t.exports={init:s,write:c,read:f}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=e(1).assert,u=e(0),a=u.checkHex,s=e(2).WAVE_SIZE,c={name:"",list:new Array(s).fill(0)},f=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.name=void 0===n.name?c.name:n.name,this.list=void 0===n.list?c.list:n.list}return o(t,[{key:"name",set:function(t){this.__name=i.string(t).slice(0,32)},get:function(){return this.__name}},{key:"list",set:function(t){i.equal(t.length,s),t.forEach(function(t){return a(t)}),this.__list=t},get:function(){return this.__list}}]),t}();t.exports=f},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=e(2).WAVE_SIZE,u=Symbol("list"),a=Symbol("current"),s=function(){function t(n){r(this,t),this[u]=n.list,this[a]=0}return o(t,[{key:"init",value:function(){this[a]=0}},{key:"read",value:function(){return this[u][this[a]]}},{key:"next",value:function(){return this[a]<i-1?this[a]+=1:this[a]=0}}]),t}();t.exports=s},function(t,n,e){"use strict";for(var r=new Array(16),o=0;o<16;o++){r[o]=new Array(16);for(var i=0;i<16;i++){var u=o*i/15,a=(15-i)/2;r[o][i]=u+a}}t.exports=function(t,n){try{return r[t][n]}catch(e){throw e.message="Invalid Input: [Signal: "+t+" / Amp: "+n+"]",e}}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=e(1).assert,u=e(5),a=e(13),s=e(30),c=e(0),f=e(33),l=function(t){return i.match(i.hasLength(t,1),"[ADEW]")},h=c.checkHex,p=c.checkUByte,y=c.convertSByte,v=function(){function t(n){r(this,t),this.__id=c.checkArrayID(n,u.getString()),this.__type=u.getType(this.__id),this.__generator=u.getGenerator(this.__id),this.__note="---",this.__inv=!1,this.__volL=0,this.__volR=0,this.__tuneType=0,this.__bank=0,this.__automation={A:new a.Sequencer,D:new a.Sequencer,E:new a.Sequencer,W:new a.Sequencer,w:new a.Sequencer},this.__automationID={},this.setAutomation("A",0),this.setAutomation("D",0),this.setAutomation("E",0),this.setAutomation("W",0)}return o(t,[{key:"__readAutomation",value:function(t){return this.__automation[l(t)].read()}},{key:"__readPitch",value:function(){var t=this.__note;if("---"===t)return 0;i.string(t),i.hasLength(t,3);var n=y(this.__readAutomation("A")),e=y(this.__readAutomation("D")),r=this.__tuneType;return s.getFreq(r,t,n,e)}},{key:"__readEnvelope",value:function(){if("---"===this.note)return 0;var t=this.__readAutomation("E"),n=Math.floor(t/16),e=t%16,r=this.__volL,o=this.__volR;return{L:f(r,n),R:f(o,e)}}},{key:"__readWaveNumber",value:function(){var t=this.__bank,n=this.__readAutomation("W");return"C"===this.__type?256*t+n:n}},{key:"setNote",value:function(t){switch(i.string(t),i.hasLength(t,3),t){case"   ":case"___":break;case"===":this.release();break;case"---":default:this.__note=t,this.__automation.A.init(),this.__automation.D.init()}}},{key:"setVol",value:function(t,n){try{this.__volL=h(t)}catch(t){}try{this.__volR=h(n)}catch(t){}this.__automation.E.init(),this.__automation.W.init(),this.__automation.w.init()}},{key:"setTuneType",value:function(t){this.__tuneType=h(t)}},{key:"setBank",value:function(t){this.__bank=p(t)}},{key:"setAutomation",value:function(t,n){p(n),l(t),this.__automation[t]=new a.Sequencer(a.Memory.read(t,n)),this.__automationID[t]=n,"E"!==t&&"W"!==t&&"w"!==t||(this.__automation.E.init(),this.__automation.W.init(),this.__automation.w.init()),"A"!==t&&"D"!==t||(this.__automation.A.init(),this.__automation.D.init())}},{key:"setInst",value:function(t){this.inst=p(t),this.__automation.A.init(),this.__automation.D.init(),this.__automation.E.init(),this.__automation.W.init(),this.__automation.w.init()}},{key:"execute",value:function(){this.__generator.setFreq(this.__readPitch()),this.__generator.setWaveform(this.__readWaveNumber()),this.__generator.setInv(this.__inv),this.__generator.setVolL(this.__readEnvelope().L),this.__generator.setVolR(this.__readEnvelope().R)}},{key:"release",value:function(){this.__automation.A.release(),this.__automation.D.release(),this.__automation.E.release(),this.__automation.W.release(),this.__automation.w.release()}},{key:"next",value:function(){this.__automation.A.next(),this.__automation.D.next(),this.__automation.E.next(),this.__automation.W.next(),this.__automation.w.next()}}]),t}();t.exports=v},function(t,n,e){"use strict";var r=e(1).assert,o=e(28),i=e(0),u=function(t){return i.checkRangedInt(t,0,255)},a=function(t){return r.match(r.hasLength(t,1),"[ADEW]")},s={},c=function(){s.A=new Array(0),s.D=new Array(0),s.E=new Array(0),s.W=new Array(0)},f=function(t,n){return a(t),u(n),void 0===s[t][n]&&(s[t][n]=new o),s[t][n]},l=function(t,n,e){var i=new o(e);a(t),u(n),r.like(i,new o),s[t][n]=i};t.exports={init:c,read:f,write:l}},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=e(1).assert,u=e(0),a={name:"",list:[0],loopstart:-1,loopend:-1},s=u.checkUByte,c=u.checkArrayID,f=Symbol("name"),l=Symbol("list"),h=Symbol("loopstart"),p=Symbol("loopend"),y=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),this.name=void 0===n.name?a.name:n.name,this.list=void 0===n.list?a.list:n.list,this.loopstart=void 0===n.loopstart?a.loopstart:n.loopstart,this.loopend=void 0===n.loopend?a.loopend:n.loopend}return o(t,[{key:"name",set:function(t){this[f]=i.string(t).slice(0,32)},get:function(){return this[f]}},{key:"list",set:function(t){this[l]=t.map(function(t){return s(t)})},get:function(){return this[l]}},{key:"loopstart",set:function(t){try{this[h]=c(t,this[l])}catch(n){if(-1!==t)throw n;this[h]=t}},get:function(){return this[h]}},{key:"loopend",set:function(t){try{this[p]=c(t,this[l])}catch(n){if(-1!==t)throw n;this[p]=t}},get:function(){return this[p]}}]),t}();t.exports=y},function(t,n,e){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=Symbol("list"),u=Symbol("loopstart"),a=Symbol("loopend"),s=Symbol("current"),c=Symbol("released"),f=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"",list:[0],loopstart:-1,loopend:-1};r(this,t),this[i]=n.list,this[u]=n.loopstart,this[a]=n.loopend,this[s]=0,this[c]=!1}return o(t,[{key:"init",value:function(){this[s]=0,this[c]=!1}},{key:"read",value:function(){return this[i][this[s]]}},{key:"next",value:function(){var t=this[u]>=0,n=this[a]>=0&&this[a]>=this[u],e=!this[c],r=n&&e?this[a]:this[i].length-1,o=t&&e?this[u]:r;return this[s]<r?this[s]+=1:this[s]=o}},{key:"release",value:function(){this[c]=!0}}]),t}();t.exports=f},function(t,n,e){"use strict";var r=e(31),o=e(32),i=new Array(16);i[0]=r,i[1]=o;var u=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return i[t](n,e,r)},a=function(t,n){i[t]=n};t.exports={getFreq:u,setTune:a}},function(t,n,e){"use strict";var r=Object.freeze({C:0,D:200,E:400,F:500,G:700,A:900,B:1100,c:0,d:200,e:400,f:500,g:700,a:900,b:1100}),o=Object.freeze({"#":100,"+":100,b:-100,"-":-100," ":0}),i=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return r[t[0]]+o[t[1]]+1200*(parseInt(t[2])+1)+100*n+e},u=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=i(t,n,e),o=(r-6900)/1200;return 440*Math.pow(2,o)};t.exports=u},function(t,n,e){"use strict";var r=e(1).assert,o=function(t){var n=r.integer(t),e=r.inRange(t,0,15);return n&&e},i=function(t){var n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),e=parseInt(t[0],16),r=parseInt(t[1],16);o(e),o(r);var i=15-e,u=7-r%8;0===u&&(u=.5);var a=1/u*524288*Math.pow(2,-(i+1))*Math.pow(2,n/1200);return a>1048576?1048576:a};t.exports=i},function(t,n,e){"use strict";for(var r=new Array(16),o=0;o<16;o++){r[o]=new Uint8Array(16);for(var i=0;i<16;i++)if(0===o||0===i)r[o][i]=0;else{var u=Math.floor(o*i/15);r[o][i]=u>1?u:1}}t.exports=function(t,n){try{return r[t][n]}catch(e){throw e.message="Invalid Input: ["+t+", "+n+"]",e}}},function(t,n,e){"use strict";var r=e(3),o=e(35),i=e(36),u=new window.AudioContext,a=u.createGain();a.connect(u.destination),a.gain.setValueAtTime(.5,a.context.currentTime),r.Processor.init(u,4096),r.Processor.connect(a),o(),r.Instrument.init("OOCN"),r.Scheduler.setTempo(30),t.exports={playInst:i}},function(t,n,e){"use strict";var r=e(3),o=function(){r.Memory.Oscillator.init(),r.Memory.Waveform.init(),r.Memory.Automation.init(),r.Memory.Waveform.write(16,{list:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,15,14,13,12,11,10,9,8,7,6,5,4,3,2,1,0]}),r.Memory.Automation.write("E",0,{list:[255,238,221,204,187,170,153,136,119,102,85,68,51,34,17,0,0,0,0,0,0,0,0,0],loopstart:0,loopend:23}),r.Memory.Automation.write("E",1,{list:[68],loopstart:-1,loopend:-1}),r.Memory.Automation.write("A",1,{list:[0,7,10],loopstart:0,loopend:2}),r.Memory.Automation.write("W",1,{list:[16],loopstart:-1,loopend:-1})};t.exports=o},function(t,n,e){"use strict";var r=e(3),o=e(37),i=e(38),u=e(39),a=e(40),s=function(){[0,1,2,3].map(function(t){return r.Instrument.getInst(t)}).forEach(function(t){t.setNote("---"),t.setVol(0,0),t.setAutomation("A",0),t.setAutomation("D",0),t.setAutomation("E",0),t.setAutomation("W",0),t.setBank(0)})},c=function(t){switch(r.Processor.stop(),s(),t){case 0:o();break;case 1:i();break;case 2:u();break;case 3:a()}r.Processor.play()};t.exports=c},function(t,n,e){"use strict";var r=e(3),o=function(){var t=r.Instrument.getInst(0);t.setNote("A 4"),t.setVol(15,15),t.setAutomation("W",1),t.setAutomation("A",1),t.setAutomation("E",0)};t.exports=o},function(t,n,e){"use strict";var r=e(3),o=function(){var t=r.Instrument.getInst(1);t.setNote("E 4"),t.setVol(15,15),t.setAutomation("W",1),t.setAutomation("A",1),t.setAutomation("E",0)};t.exports=o},function(t,n,e){"use strict";var r=e(3),o=function(){var t=r.Instrument.getInst(2);t.setNote("A 4"),t.setVol(15,15),t.setBank(0),t.setAutomation("W",1),t.setAutomation("A",1),t.setAutomation("E",0)};t.exports=o},function(t,n,e){"use strict";var r=e(3),o=function(){var t=r.Instrument.getInst(3);t.setNote("AF "),t.setVol(15,15),t.setAutomation("E",0),t.setTuneType(1)};t.exports=o}])});